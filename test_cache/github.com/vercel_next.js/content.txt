GitHub - vercel/next.js: The React Framework
===============
                                           

[Skip to content](https://github.com/vercel/next.js?screenshot=true#start-of-content)  

Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%3Fscreenshot%3Dtrue)

*   Product
    
    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [Security Find and fix vulnerabilities](https://github.com/features/security)
    *   [Actions Automate any workflow](https://github.com/features/actions)
    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Code Review Manage code changes](https://github.com/features/code-review)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    *   [Code Search Find more, search less](https://github.com/features/code-search)
    
    Explore
    
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)
    *   [DevOps](https://github.com/solutions/use-case/devops)
    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)
    *   [View all use cases](https://github.com/solutions/use-case)
    
    By industry
    
    *   [Healthcare](https://github.com/solutions/industry/healthcare)
    *   [Financial services](https://github.com/solutions/industry/financial-services)
    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)
    *   [Government](https://github.com/solutions/industry/government)
    *   [View all industries](https://github.com/solutions/industry)
    
    [View all solutions](https://github.com/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    *   [View all](https://github.com/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [White papers, Ebooks, Webinars](https://resources.github.com/)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)
    
    *   [The ReadME Project GitHub community articles](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)
    
    Available add-ons
    
    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)
    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%3Fscreenshot%3Dtrue)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=vercel%2Fnext.js) Reseting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

{{ message }}

[vercel](https://github.com/vercel) / **[next.js](https://github.com/vercel/next.js)** Public

*   [Notifications](https://github.com/login?return_to=%2Fvercel%2Fnext.js) You must be signed in to change notification settings
*   [Fork 27.4k](https://github.com/login?return_to=%2Fvercel%2Fnext.js)
*   [Star 129k](https://github.com/login?return_to=%2Fvercel%2Fnext.js)
    

The React Framework

[nextjs.org](https://nextjs.org/ "https://nextjs.org")

### License

[MIT license](https://github.com/vercel/next.js/blob/canary/license.md)

[129k stars](https://github.com/vercel/next.js/stargazers) [27.4k forks](https://github.com/vercel/next.js/forks) [Branches](https://github.com/vercel/next.js/branches) [Tags](https://github.com/vercel/next.js/tags) [Activity](https://github.com/vercel/next.js/activity)

[Star](https://github.com/login?return_to=%2Fvercel%2Fnext.js)

[Notifications](https://github.com/login?return_to=%2Fvercel%2Fnext.js) You must be signed in to change notification settings

*   [Code](https://github.com/vercel/next.js)
*   [Issues 3k](https://github.com/vercel/next.js/issues)
*   [Pull requests 619](https://github.com/vercel/next.js/pulls)
*   [Discussions](https://github.com/vercel/next.js/discussions)
*   [Actions](https://github.com/vercel/next.js/actions)
*   [Security 15](https://github.com/vercel/next.js/security)
*   [Insights](https://github.com/vercel/next.js/pulse)

Additional navigation options

*   [Code](https://github.com/vercel/next.js)
*   [Issues](https://github.com/vercel/next.js/issues)
*   [Pull requests](https://github.com/vercel/next.js/pulls)
*   [Discussions](https://github.com/vercel/next.js/discussions)
*   [Actions](https://github.com/vercel/next.js/actions)
*   [Security](https://github.com/vercel/next.js/security)
*   [Insights](https://github.com/vercel/next.js/pulse)

vercel/next.js
==============

  

 canary

[**1272** Branches](https://github.com/vercel/next.js/branches)[**3030** Tags](https://github.com/vercel/next.js/tags)

[](https://github.com/vercel/next.js/branches)[](https://github.com/vercel/next.js/tags)

Go to file

Code

Folders and files
-----------------

| Name | Name | 
Last commit message

 | 

Last commit date

 |
| --- | --- | --- | --- |
| 

Latest commit
-------------

[![Image 29: kdy1](https://avatars.githubusercontent.com/u/29931815?v=4&size=40)](https://github.com/kdy1)[kdy1](https://github.com/vercel/next.js/commits?author=kdy1)

[perf(turbopack): Use](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630) `[u32](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630)` [for the total node count (](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630)[#75100](https://github.com/vercel/next.js/pull/75100)[)](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630)

Jan 20, 2025

[0ae704f](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630) · Jan 20, 2025

History
-------

[26,819 Commits](https://github.com/vercel/next.js/commits/canary/)

[](https://github.com/vercel/next.js/commits/canary/)







 |
| 

[.cargo](https://github.com/vercel/next.js/tree/canary/.cargo ".cargo")







 | 

[.cargo](https://github.com/vercel/next.js/tree/canary/.cargo ".cargo")







 | 

[build(pack-next): Add an option for the pack-next script to automate …](https://github.com/vercel/next.js/commit/882d88381c12a794e82afccc118435889dedd96f "build(pack-next): Add an option for the pack-next script to automate patching package.json (#69396)
## What is `pack-next`?
This is a script we use for developing turbopack. It builds tarballs for
all the next.js packages, including `next-swc`, and then provides
instructions about how to modify a project's `package.json` to install
from that tarball.
## What does this PR do?
If you provide a `--project ~/path/to/directory` argument to `pnpm
pack-next`, we'll auto-update the `package.json` there for you, instead
of telling you how to do it manually!
This also understands the React 19 RC peer dependencies, which is
something that was missing from the generated instructions.
## Supported Package Managers
I've tested this with `npm` and `pnpm`.
- `bun` fails with `ENOTDIR` for unknown reasons (maybe it's trying to
handle the local tarball as a directory instead of a tarball?).
- `yarn` fails due to an upstream issue:
https://github.com/yarnpkg/yarn/issues/6339
This does generate the entries for yarn's `resolutions` feature,
assuming the upstream issue is eventually fixed.
## Why Rust and `cargo xtask`?
https://github.com/matklad/cargo-xtask
I'd love for these Turbopack-centric scripts to be written in Rust with
xtask, since they're mostly touched by the turbopack team.
However, it's also hard to justify putting too much effort into these
development scripts, so I don't want to rewrite the whole thing right
now.
I figured I'd write the new functionality in Rust and call it from the
old JS script.
## Test Plan
Perform a fresh checkout of shadcn/ui, and then:
```
pnpm pack-next --project ~/shadcn-ui/apps/www/
```
```
Found workspace! Patching \"/home/bgw.linux/shadcn-ui/package.json\" with overrides.
Successfully patched \"/home/bgw.linux/shadcn-ui/package.json\" to use local tarball files!
Run `pnpm i` or `npm i` to install the overrides
```
Check the resulting changes to `~/shadcn-ui`:
```diff
diff --git a/package.json b/package.json
index be47ad7..262c13b 100644
--- a/package.json
+++ b/package.json
@@ -63,12 +63,31 @@
\"tsx\": \"^4.1.4\",
\"turbo\": \"^1.9.9\",
\"vite-tsconfig-paths\": \"^4.2.0\",
-    \"vitest\": \"^0.31.1\"
+    \"vitest\": \"^0.31.1\",
+    \"@next/swc\": \"file:/home/bgw.linux/next.js/tarballs/next-swc.tar\"
},
\"devDependencies\": {
\"@types/node\": \"^20.11.27\",
\"@types/react\": \"^18.2.65\",
\"@types/react-dom\": \"^18.2.22\",
\"typescript\": \"^5.5.3\"
+  },
+  \"overrides\": {
+    \"next\": \"file:/home/bgw.linux/next.js/tarballs/next.tar\",
+    \"@next/mdx\": \"file:/home/bgw.linux/next.js/tarballs/next-mdx.tar\",
+    \"@next/env\": \"file:/home/bgw.linux/next.js/tarballs/next-env.tar\",
+    \"@next/bundle-analyzer\": \"file:/home/bgw.linux/next.js/tarballs/next-bundle-analyzer.tar\",
+    \"@next/swc\": \"file:/home/bgw.linux/next.js/tarballs/next-swc.tar\",
+    \"react\": \"19.0.0-rc-7771d3a7-20240827\",
+    \"react-dom\": \"19.0.0-rc-7771d3a7-20240827\"
+  },
+  \"resolutions\": {
+    \"next\": \"file:/home/bgw.linux/next.js/tarballs/next.tar\",
+    \"@next/mdx\": \"file:/home/bgw.linux/next.js/tarballs/next-mdx.tar\",
+    \"@next/env\": \"file:/home/bgw.linux/next.js/tarballs/next-env.tar\",
+    \"@next/bundle-analyzer\": \"file:/home/bgw.linux/next.js/tarballs/next-bundle-analyzer.tar\",
+    \"@next/swc\": \"file:/home/bgw.linux/next.js/tarballs/next-swc.tar\",
+    \"react\": \"19.0.0-rc-7771d3a7-20240827\",
+    \"react-dom\": \"19.0.0-rc-7771d3a7-20240827\"
}
}
```")



 | 

Aug 29, 2024

 |
| 

[.config](https://github.com/vercel/next.js/tree/canary/.config ".config")







 | 

[.config](https://github.com/vercel/next.js/tree/canary/.config ".config")







 | 

[chore(turbopack): Delete to-resolved-in-loop lint (too low signal) (](https://github.com/vercel/next.js/commit/c0040412b288b790e49e941d5cd2b862018280cc "chore(turbopack): Delete to-resolved-in-loop lint (too low signal) (#74113)
Had a discussion with @sokra about this during office hours. We were in agreement to delete this, not because it's usually wrong, but just because it's not high-signal enough:
- Many instances of `to_resolved().await` are on simple constructor calls, so it doesn't really matter if they're sequential. We could add some heuristics for this, but they'd be imperfect.
- `to_resolved().await` isn't actually what drives the work forward, it's the function call that schedules the work, so in some cases this isn't accurate (and you can't know without type information).
- This would make more sense if we were typically starved for work, but usually we have more tokio tasks than we can process anyways, so increasing parallelism is unlikely to help in most cases.
- Some code isn't performance sensitive (e.g. internal CLI utilities, tests), so this is just noise in those places.")[#…](https://github.com/vercel/next.js/pull/74113)



 | 

Dec 20, 2024

 |
| 

[.devcontainer](https://github.com/vercel/next.js/tree/canary/.devcontainer ".devcontainer")







 | 

[.devcontainer](https://github.com/vercel/next.js/tree/canary/.devcontainer ".devcontainer")







 | 

[chore: add](https://github.com/vercel/next.js/commit/d8c1875800903542bd4e89116f4c8aa32cc853bf "chore: add `syntax` parser directive to Dockerfile (#72380)
## What?
Add [`syntax`](https://docs.docker.com/reference/dockerfile/#syntax)
parser directive to the first line of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
## Why?
To declare the Dockerfile syntax version to use for the build.
If unspecified, [BuildKit](https://docs.docker.com/build/buildkit/) uses
a bundled version of the Dockerfile frontend.
## How?
Append `# syntax=docker.io/docker/dockerfile:1` to the top of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
Co-authored-by: JJ Kasper <jj@jjsweb.site>") ```
[syntax](https://github.com/vercel/next.js/commit/d8c1875800903542bd4e89116f4c8aa32cc853bf "chore: add `syntax` parser directive to Dockerfile (#72380)
## What?
Add [`syntax`](https://docs.docker.com/reference/dockerfile/#syntax)
parser directive to the first line of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
## Why?
To declare the Dockerfile syntax version to use for the build.
If unspecified, [BuildKit](https://docs.docker.com/build/buildkit/) uses
a bundled version of the Dockerfile frontend.
## How?
Append `# syntax=docker.io/docker/dockerfile:1` to the top of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
Co-authored-by: JJ Kasper <jj@jjsweb.site>")
``` [parser directive to Dockerfile (](https://github.com/vercel/next.js/commit/d8c1875800903542bd4e89116f4c8aa32cc853bf "chore: add `syntax` parser directive to Dockerfile (#72380)
## What?
Add [`syntax`](https://docs.docker.com/reference/dockerfile/#syntax)
parser directive to the first line of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
## Why?
To declare the Dockerfile syntax version to use for the build.
If unspecified, [BuildKit](https://docs.docker.com/build/buildkit/) uses
a bundled version of the Dockerfile frontend.
## How?
Append `# syntax=docker.io/docker/dockerfile:1` to the top of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
Co-authored-by: JJ Kasper <jj@jjsweb.site>")[#72380](https://github.com/vercel/next.js/pull/72380)[)](https://github.com/vercel/next.js/commit/d8c1875800903542bd4e89116f4c8aa32cc853bf "chore: add `syntax` parser directive to Dockerfile (#72380)
## What?
Add [`syntax`](https://docs.docker.com/reference/dockerfile/#syntax)
parser directive to the first line of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
## Why?
To declare the Dockerfile syntax version to use for the build.
If unspecified, [BuildKit](https://docs.docker.com/build/buildkit/) uses
a bundled version of the Dockerfile frontend.
## How?
Append `# syntax=docker.io/docker/dockerfile:1` to the top of the
[Dockerfile](https://docs.docker.com/reference/dockerfile/).
Co-authored-by: JJ Kasper <jj@jjsweb.site>")



 | 

Nov 6, 2024

 |
| 

[.github](https://github.com/vercel/next.js/tree/canary/.github ".github")







 | 

[.github](https://github.com/vercel/next.js/tree/canary/.github ".github")







 | 

[Include CI runner labels in Turborepo hashes (](https://github.com/vercel/next.js/commit/6d17cc6b0f3c153d2405ac97e862da2e9008258f "Include CI runner labels in Turborepo hashes (#75099)
Avoids cache collisions for output with platform-specific contents (e.g.
paths) that may be generated on Linux or Windows runners. Docs:
https://turbo.build/repo/docs/crafting-your-repository/using-environment-variables#adding-environment-variables-to-task-hashes")[#75099](https://github.com/vercel/next.js/pull/75099)[)](https://github.com/vercel/next.js/commit/6d17cc6b0f3c153d2405ac97e862da2e9008258f "Include CI runner labels in Turborepo hashes (#75099)
Avoids cache collisions for output with platform-specific contents (e.g.
paths) that may be generated on Linux or Windows runners. Docs:
https://turbo.build/repo/docs/crafting-your-repository/using-environment-variables#adding-environment-variables-to-task-hashes")



 | 

Jan 20, 2025

 |
| 

[.husky](https://github.com/vercel/next.js/tree/canary/.husky ".husky")







 | 

[.husky](https://github.com/vercel/next.js/tree/canary/.husky ".husky")







 | 

[Use posix-compatible syntax for pre-push hook (](https://github.com/vercel/next.js/commit/5c88a3838ee079be55cc1af3ed9f2ceeaa893ab9 "Use posix-compatible syntax for pre-push hook (#68421)
### What?
Use POSIX-compatible shell script syntax for the Husky `pre-push` hook.
POSIX shell sadly doesn't support arrays, so fall back to using
IFS-based string splitting (which is fine here).
### Why?
- Husky ignores the shebang, and simply invokes `sh`:
https://github.com/typicode/husky/issues/971
- On Debian-based distributions, [`sh` is provided by
`dash`](https://wiki.archlinux.org/title/Dash), which is POSIX
compatible, but does not support `bash`-specific features.
- The Husky documentation has a workaround for using bash, but doesn't
recommend it: https://typicode.github.io/husky/how-to.html#bash
I do most of my development on a Debian VM, which is how I noticed this.
### Test Plan
On Debian with `dash`, manually invoke it like so:
```
echo local_branch_name from_commit refs/heads/canary to_commit | sh -x .husky/pre-push canary git@github.com:vercel/next.js.git
```")[#68421](https://github.com/vercel/next.js/pull/68421)[)](https://github.com/vercel/next.js/commit/5c88a3838ee079be55cc1af3ed9f2ceeaa893ab9 "Use posix-compatible syntax for pre-push hook (#68421)
### What?
Use POSIX-compatible shell script syntax for the Husky `pre-push` hook.
POSIX shell sadly doesn't support arrays, so fall back to using
IFS-based string splitting (which is fine here).
### Why?
- Husky ignores the shebang, and simply invokes `sh`:
https://github.com/typicode/husky/issues/971
- On Debian-based distributions, [`sh` is provided by
`dash`](https://wiki.archlinux.org/title/Dash), which is POSIX
compatible, but does not support `bash`-specific features.
- The Husky documentation has a workaround for using bash, but doesn't
recommend it: https://typicode.github.io/husky/how-to.html#bash
I do most of my development on a Debian VM, which is how I noticed this.
### Test Plan
On Debian with `dash`, manually invoke it like so:
```
echo local_branch_name from_commit refs/heads/canary to_commit | sh -x .husky/pre-push canary git@github.com:vercel/next.js.git
```")



 | 

Aug 2, 2024

 |
| 

[.vscode](https://github.com/vercel/next.js/tree/canary/.vscode ".vscode")







 | 

[.vscode](https://github.com/vercel/next.js/tree/canary/.vscode ".vscode")







 | 

[Recommend styled-components VSCode extension to get CSS autocomplete …](https://github.com/vercel/next.js/commit/5f4f96c133bd6b10954812cc2fef6af085b82aa5 "Recommend styled-components VSCode extension to get CSS autocomplete in Dev Overlay (#74688)
Co-authored-by: Jiwon Choi <devjiwonchoi@gmail.com>")



 | 

Jan 9, 2025

 |
| 

[bench](https://github.com/vercel/next.js/tree/canary/bench "bench")







 | 

[bench](https://github.com/vercel/next.js/tree/canary/bench "bench")







 | 

[fix Turbopack devlow bench (](https://github.com/vercel/next.js/commit/918a53427fd94cfea68bc6f57421057df8ff6934 "fix Turbopack devlow bench (#73278)
### What?
fix TURBO_CACHE env var
cleanup devlow bench script")[#73278](https://github.com/vercel/next.js/pull/73278)[)](https://github.com/vercel/next.js/commit/918a53427fd94cfea68bc6f57421057df8ff6934 "fix Turbopack devlow bench (#73278)
### What?
fix TURBO_CACHE env var
cleanup devlow bench script")



 | 

Nov 29, 2024

 |
| 

[contributing](https://github.com/vercel/next.js/tree/canary/contributing "contributing")







 | 

[contributing](https://github.com/vercel/next.js/tree/canary/contributing "contributing")







 | 

[examples: add StackBlitz preview to README.md (](https://github.com/vercel/next.js/commit/36dce2fe7e03fd286711497f074ce0ce02198418 "examples: add StackBlitz preview to README.md (#73546)
### Description
Follow up #35349.
1. Update the [example
template](https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md)
with [StackBlitz](https://stackblitz.com/) preview
2. Add `preview live with StackBlitz` to the examples
3. Remove the below old StackBlitz preview section from the examples
```md
## Preview
Preview the example live on [StackBlitz](http://stackblitz.com/):
[![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/vercel/next.js/tree/canary/examples/active-class-name)
```
CC: @samcx 
### Improving Documentation
- [x] Run `pnpm prettier-fix` to fix formatting issues before opening
the PR.
- [x] Read the Docs Contribution Guide to ensure your contribution
follows the docs guidelines:
https://nextjs.org/docs/community/contribution-guide
### Adding or Updating Examples
- [x] The \"examples guidelines\" are followed from our contributing doc
https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md
- [x] Make sure the linting passes by running `pnpm build && pnpm lint`.
See
https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md")[#73546](https://github.com/vercel/next.js/pull/73546)[)](https://github.com/vercel/next.js/commit/36dce2fe7e03fd286711497f074ce0ce02198418 "examples: add StackBlitz preview to README.md (#73546)
### Description
Follow up #35349.
1. Update the [example
template](https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md)
with [StackBlitz](https://stackblitz.com/) preview
2. Add `preview live with StackBlitz` to the examples
3. Remove the below old StackBlitz preview section from the examples
```md
## Preview
Preview the example live on [StackBlitz](http://stackblitz.com/):
[![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/vercel/next.js/tree/canary/examples/active-class-name)
```
CC: @samcx 
### Improving Documentation
- [x] Run `pnpm prettier-fix` to fix formatting issues before opening
the PR.
- [x] Read the Docs Contribution Guide to ensure your contribution
follows the docs guidelines:
https://nextjs.org/docs/community/contribution-guide
### Adding or Updating Examples
- [x] The \"examples guidelines\" are followed from our contributing doc
https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md
- [x] Make sure the linting passes by running `pnpm build && pnpm lint`.
See
https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md")



 | 

Jan 14, 2025

 |
| 

[crates](https://github.com/vercel/next.js/tree/canary/crates "crates")







 | 

[crates](https://github.com/vercel/next.js/tree/canary/crates "crates")







 | 

[\[Turbopack\] try to avoid too small chunks size when optimizing for pr…](https://github.com/vercel/next.js/commit/351fdbce4f480b691cc6ea015aaae1f19e6af46f "[Turbopack] try to avoid too small chunks size when optimizing for production (#75048)
### What?
Merge small chunks if they are below the min chunk size of 20kb
---------
Co-authored-by: Niklas Mischkulnig <4586894+mischnic@users.noreply.github.com>")



 | 

Jan 20, 2025

 |
| 

[docs](https://github.com/vercel/next.js/tree/canary/docs "docs")







 | 

[docs](https://github.com/vercel/next.js/tree/canary/docs "docs")







 | 

[error when output: export is used with intercepting routes (](https://github.com/vercel/next.js/commit/808d2ba3e083930561fdd5071ffe0a78fa361da9 "error when output: export is used with intercepting routes (#75058)
Intercepting routes are built on top of
[rewrites](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites)
which is one of the listed [unsupported
features](https://nextjs.org/docs/app/building-your-application/deploying/static-exports#unsupported-features)
of `output: \"export\"`.
However, because the Next.js server injects the interception routes,
it's not caught by existing validation logic in the export flow.
This properly documents that intercepting routes are not currently
supported by `output: \"export\"` and hard errors in next dev/build if
detected. Previously route interception would just not have worked,
instead serving the non-intercepted page when built, leading to a
confusing experience.
We eventually want to support this with improved SPA/export features,
however that's out of scope for this PR: the goal here is to ensure
we're providing more immediate feedback about the fact that this is
unsupported.")[#75058](https://github.com/vercel/next.js/pull/75058)[)](https://github.com/vercel/next.js/commit/808d2ba3e083930561fdd5071ffe0a78fa361da9 "error when output: export is used with intercepting routes (#75058)
Intercepting routes are built on top of
[rewrites](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites)
which is one of the listed [unsupported
features](https://nextjs.org/docs/app/building-your-application/deploying/static-exports#unsupported-features)
of `output: \"export\"`.
However, because the Next.js server injects the interception routes,
it's not caught by existing validation logic in the export flow.
This properly documents that intercepting routes are not currently
supported by `output: \"export\"` and hard errors in next dev/build if
detected. Previously route interception would just not have worked,
instead serving the non-intercepted page when built, leading to a
confusing experience.
We eventually want to support this with improved SPA/export features,
however that's out of scope for this PR: the goal here is to ensure
we're providing more immediate feedback about the fact that this is
unsupported.")



 | 

Jan 18, 2025

 |
| 

[errors](https://github.com/vercel/next.js/tree/canary/errors "errors")







 | 

[errors](https://github.com/vercel/next.js/tree/canary/errors "errors")







 | 

[Fix linting between lint-check and lint-staged (](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")[#74503](https://github.com/vercel/next.js/pull/74503)[)](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")



 | 

Jan 3, 2025

 |
| 

[examples](https://github.com/vercel/next.js/tree/canary/examples "examples")







 | 

[examples](https://github.com/vercel/next.js/tree/canary/examples "examples")







 | 

[Update readme for with-mux-video (](https://github.com/vercel/next.js/commit/a2056c7383a49a529abcb82d1dd2493aa8c4bcda "Update readme for with-mux-video (#74966)
Co-authored-by: Jiachi Liu <inbox@huozhi.im>")[#74966](https://github.com/vercel/next.js/pull/74966)[)](https://github.com/vercel/next.js/commit/a2056c7383a49a529abcb82d1dd2493aa8c4bcda "Update readme for with-mux-video (#74966)
Co-authored-by: Jiachi Liu <inbox@huozhi.im>")



 | 

Jan 16, 2025

 |
| 

[packages](https://github.com/vercel/next.js/tree/canary/packages "packages")







 | 

[packages](https://github.com/vercel/next.js/tree/canary/packages "packages")







 | 

[v15.2.0-canary.16](https://github.com/vercel/next.js/commit/3f3f4bc78145e1bb271781aabd595758dd0686a9 "v15.2.0-canary.16")



 | 

Jan 18, 2025

 |
| 

[patches](https://github.com/vercel/next.js/tree/canary/patches "patches")







 | 

[patches](https://github.com/vercel/next.js/tree/canary/patches "patches")







 | 

[Create ErrorOverlay component (](https://github.com/vercel/next.js/commit/f880a7a2515c99a638b752e337b42856872eebdb "Create ErrorOverlay component (#74073)
### Why?
This PR refactored overlay to have a common layout as they share much in common and are also better for testing the layout. Will follow up with `Errors` component as it needs some UI break downs.
Note: patched `@storybook/react` for the type error:
- https://github.com/vercel/next.js/actions/runs/12394130672/job/34596896487#step:8:565")[#74073](https://github.com/vercel/next.js/pull/74073)[)](https://github.com/vercel/next.js/commit/f880a7a2515c99a638b752e337b42856872eebdb "Create ErrorOverlay component (#74073)
### Why?
This PR refactored overlay to have a common layout as they share much in common and are also better for testing the layout. Will follow up with `Errors` component as it needs some UI break downs.
Note: patched `@storybook/react` for the type error:
- https://github.com/vercel/next.js/actions/runs/12394130672/job/34596896487#step:8:565")



 | 

Dec 18, 2024

 |
| 

[scripts](https://github.com/vercel/next.js/tree/canary/scripts "scripts")







 | 

[scripts](https://github.com/vercel/next.js/tree/canary/scripts "scripts")







 | 

[build(scripts/pack-next): Add support for compressing debuginfo with …](https://github.com/vercel/next.js/commit/1675073b8ffea42c25f0896035774990570147bd "build(scripts/pack-next): Add support for compressing debuginfo with zlib (#74662)
On Linux we must either compress or strip debuginfo, otherwise the debug tarball will be >2GiB, and pnpm (it's actually a node/libuv bug) has issues with files larger than 2GiB.
As far as I can tell Rust can generate line numbers for backtraces with zlib-compressed debuginfo, but not with newer zstd-compressed debuginfo.")



 | 

Jan 9, 2025

 |
| 

[test](https://github.com/vercel/next.js/tree/canary/test "test")







 | 

[test](https://github.com/vercel/next.js/tree/canary/test "test")







 | 

[error when output: export is used with intercepting routes (](https://github.com/vercel/next.js/commit/808d2ba3e083930561fdd5071ffe0a78fa361da9 "error when output: export is used with intercepting routes (#75058)
Intercepting routes are built on top of
[rewrites](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites)
which is one of the listed [unsupported
features](https://nextjs.org/docs/app/building-your-application/deploying/static-exports#unsupported-features)
of `output: \"export\"`.
However, because the Next.js server injects the interception routes,
it's not caught by existing validation logic in the export flow.
This properly documents that intercepting routes are not currently
supported by `output: \"export\"` and hard errors in next dev/build if
detected. Previously route interception would just not have worked,
instead serving the non-intercepted page when built, leading to a
confusing experience.
We eventually want to support this with improved SPA/export features,
however that's out of scope for this PR: the goal here is to ensure
we're providing more immediate feedback about the fact that this is
unsupported.")[#75058](https://github.com/vercel/next.js/pull/75058)[)](https://github.com/vercel/next.js/commit/808d2ba3e083930561fdd5071ffe0a78fa361da9 "error when output: export is used with intercepting routes (#75058)
Intercepting routes are built on top of
[rewrites](https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites)
which is one of the listed [unsupported
features](https://nextjs.org/docs/app/building-your-application/deploying/static-exports#unsupported-features)
of `output: \"export\"`.
However, because the Next.js server injects the interception routes,
it's not caught by existing validation logic in the export flow.
This properly documents that intercepting routes are not currently
supported by `output: \"export\"` and hard errors in next dev/build if
detected. Previously route interception would just not have worked,
instead serving the non-intercepted page when built, leading to a
confusing experience.
We eventually want to support this with improved SPA/export features,
however that's out of scope for this PR: the goal here is to ensure
we're providing more immediate feedback about the fact that this is
unsupported.")



 | 

Jan 18, 2025

 |
| 

[turbo/generators](https://github.com/vercel/next.js/tree/canary/turbo/generators "This path skips through empty directories")







 | 

[turbo/generators](https://github.com/vercel/next.js/tree/canary/turbo/generators "This path skips through empty directories")







 | 

[fix(generators): update errors gen (](https://github.com/vercel/next.js/commit/9e2935b05cd3119606f79cd6441dad14f0d34901 "fix(generators): update errors gen (#60233)
### What?
Errors were updated to MDX as part of
https://github.com/vercel/next.js/pull/52038, and as a part of this, the
`errors/manifest.json` file was removed.
This PR did not update the generators used to create new errors, causing
the error gen to...error 😄
This fixes the generator.")[#60233](https://github.com/vercel/next.js/pull/60233)[)](https://github.com/vercel/next.js/commit/9e2935b05cd3119606f79cd6441dad14f0d34901 "fix(generators): update errors gen (#60233)
### What?
Errors were updated to MDX as part of
https://github.com/vercel/next.js/pull/52038, and as a part of this, the
`errors/manifest.json` file was removed.
This PR did not update the generators used to create new errors, causing
the error gen to...error 😄
This fixes the generator.")



 | 

Jan 4, 2024

 |
| 

[turbopack](https://github.com/vercel/next.js/tree/canary/turbopack "turbopack")







 | 

[turbopack](https://github.com/vercel/next.js/tree/canary/turbopack "turbopack")







 | 

[perf(turbopack): Use](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630 "perf(turbopack): Use `u32` for the total node count (#75100)
### What?
### Why?
This reduces the size of `JsValue` from 56 bytes to 48 bytes.
### How?") ```
[u32](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630 "perf(turbopack): Use `u32` for the total node count (#75100)
### What?
### Why?
This reduces the size of `JsValue` from 56 bytes to 48 bytes.
### How?")
``` [for the total node count (](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630 "perf(turbopack): Use `u32` for the total node count (#75100)
### What?
### Why?
This reduces the size of `JsValue` from 56 bytes to 48 bytes.
### How?")[#75100](https://github.com/vercel/next.js/pull/75100)[)](https://github.com/vercel/next.js/commit/0ae704f08fdbefb256b93a6bad990038e02a4630 "perf(turbopack): Use `u32` for the total node count (#75100)
### What?
### Why?
This reduces the size of `JsValue` from 56 bytes to 48 bytes.
### How?")



 | 

Jan 20, 2025

 |
| 

[.alexignore](https://github.com/vercel/next.js/blob/canary/.alexignore ".alexignore")







 | 

[.alexignore](https://github.com/vercel/next.js/blob/canary/.alexignore ".alexignore")







 | 

[Integrate next-\* crates from Turbopack (](https://github.com/vercel/next.js/commit/8ae2df0f1053783f0ae034e49568a07119cd1876 "Integrate next-* crates from Turbopack (#47019)
Update workspace cargo deps
Update cargo deps to point to local workspace
Ignore too-many-arguments warnings
Fix clippy errors
Update pnpm workspaces
exclude integration tests from unit tests CI
rust-analyzer settings
add rust flags and env vars")[#47019](https://github.com/vercel/next.js/pull/47019)[)](https://github.com/vercel/next.js/commit/8ae2df0f1053783f0ae034e49568a07119cd1876 "Integrate next-* crates from Turbopack (#47019)
Update workspace cargo deps
Update cargo deps to point to local workspace
Ignore too-many-arguments warnings
Fix clippy errors
Update pnpm workspaces
exclude integration tests from unit tests CI
rust-analyzer settings
add rust flags and env vars")



 | 

Mar 13, 2023

 |
| 

[.alexrc](https://github.com/vercel/next.js/blob/canary/.alexrc ".alexrc")







 | 

[.alexrc](https://github.com/vercel/next.js/blob/canary/.alexrc ".alexrc")







 | 

[docs: add deploy templates (](https://github.com/vercel/next.js/commit/89ee26cc76de11c7110dda17389fcfa50c9dbe36 "docs: add deploy templates (#71742)
This adds our community maintained templates from:
https://github.com/nextjs
---------
Co-authored-by: JJ Kasper <jj@jjsweb.site>")[#71742](https://github.com/vercel/next.js/pull/71742)[)](https://github.com/vercel/next.js/commit/89ee26cc76de11c7110dda17389fcfa50c9dbe36 "docs: add deploy templates (#71742)
This adds our community maintained templates from:
https://github.com/nextjs
---------
Co-authored-by: JJ Kasper <jj@jjsweb.site>")



 | 

Oct 29, 2024

 |
| 

[.cursorignore](https://github.com/vercel/next.js/blob/canary/.cursorignore ".cursorignore")







 | 

[.cursorignore](https://github.com/vercel/next.js/blob/canary/.cursorignore ".cursorignore")







 | 

[misc: add](https://github.com/vercel/next.js/commit/df3bb52207bb731d60b6defe0bc27fb2fe739dab "misc: add `.cursorignore` (#74763)
This PR added a `.cursorignore` file to ignore **27,500 files** for
Cursor to index.
```.gitignore
# The reverse pattern did not work.
*
!packages/**
```
### Before
![CleanShot 2025-01-11 at 03 47
56](https://github.com/user-attachments/assets/21ebf15b-301f-4238-b500-1e21529130cf)
### After
![CleanShot 2025-01-11 at 03 58
50](https://github.com/user-attachments/assets/f3842039-c6e5-43e0-924b-ac1c24ebd281)") ```
[.cursorignore](https://github.com/vercel/next.js/commit/df3bb52207bb731d60b6defe0bc27fb2fe739dab "misc: add `.cursorignore` (#74763)
This PR added a `.cursorignore` file to ignore **27,500 files** for
Cursor to index.
```.gitignore
# The reverse pattern did not work.
*
!packages/**
```
### Before
![CleanShot 2025-01-11 at 03 47
56](https://github.com/user-attachments/assets/21ebf15b-301f-4238-b500-1e21529130cf)
### After
![CleanShot 2025-01-11 at 03 58
50](https://github.com/user-attachments/assets/f3842039-c6e5-43e0-924b-ac1c24ebd281)")
``` [(](https://github.com/vercel/next.js/commit/df3bb52207bb731d60b6defe0bc27fb2fe739dab "misc: add `.cursorignore` (#74763)
This PR added a `.cursorignore` file to ignore **27,500 files** for
Cursor to index.
```.gitignore
# The reverse pattern did not work.
*
!packages/**
```
### Before
![CleanShot 2025-01-11 at 03 47
56](https://github.com/user-attachments/assets/21ebf15b-301f-4238-b500-1e21529130cf)
### After
![CleanShot 2025-01-11 at 03 58
50](https://github.com/user-attachments/assets/f3842039-c6e5-43e0-924b-ac1c24ebd281)")[#74763](https://github.com/vercel/next.js/pull/74763)[)](https://github.com/vercel/next.js/commit/df3bb52207bb731d60b6defe0bc27fb2fe739dab "misc: add `.cursorignore` (#74763)
This PR added a `.cursorignore` file to ignore **27,500 files** for
Cursor to index.
```.gitignore
# The reverse pattern did not work.
*
!packages/**
```
### Before
![CleanShot 2025-01-11 at 03 47
56](https://github.com/user-attachments/assets/21ebf15b-301f-4238-b500-1e21529130cf)
### After
![CleanShot 2025-01-11 at 03 58
50](https://github.com/user-attachments/assets/f3842039-c6e5-43e0-924b-ac1c24ebd281)")



 | 

Jan 10, 2025

 |
| 

[.eslintignore](https://github.com/vercel/next.js/blob/canary/.eslintignore ".eslintignore")







 | 

[.eslintignore](https://github.com/vercel/next.js/blob/canary/.eslintignore ".eslintignore")







 | 

[Fix linting between lint-check and lint-staged (](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")[#74503](https://github.com/vercel/next.js/pull/74503)[)](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")



 | 

Jan 3, 2025

 |
| 

[.eslintrc.cli.json](https://github.com/vercel/next.js/blob/canary/.eslintrc.cli.json ".eslintrc.cli.json")







 | 

[.eslintrc.cli.json](https://github.com/vercel/next.js/blob/canary/.eslintrc.cli.json ".eslintrc.cli.json")







 | 

[chore: fix references for the new turbopack crates (](https://github.com/vercel/next.js/commit/7c3b279044198467880d9b8c7cfb051772a238a6 "chore: fix references for the new turbopack crates (#68128)
### What?
Follow up for the previous PR in the stack updating references,
lockfiles and
snapshots.
### Why?
https://vercel.com/blog/turbopack-moving-homes
### How?
https://github.com/vercel/next-turbo-merge
Closes PACK-3163")[#68128](https://github.com/vercel/next.js/pull/68128)[)](https://github.com/vercel/next.js/commit/7c3b279044198467880d9b8c7cfb051772a238a6 "chore: fix references for the new turbopack crates (#68128)
### What?
Follow up for the previous PR in the stack updating references,
lockfiles and
snapshots.
### Why?
https://vercel.com/blog/turbopack-moving-homes
### How?
https://github.com/vercel/next-turbo-merge
Closes PACK-3163")



 | 

Aug 1, 2024

 |
| 

[.eslintrc.json](https://github.com/vercel/next.js/blob/canary/.eslintrc.json ".eslintrc.json")







 | 

[.eslintrc.json](https://github.com/vercel/next.js/blob/canary/.eslintrc.json ".eslintrc.json")







 | 

[ci(eslint): remove unecessary react/self-closing-comp (](https://github.com/vercel/next.js/commit/9b79c118e37a53b1176ba9193a477440aec3659f "ci(eslint): remove unecessary react/self-closing-comp (#74120)
## Why?
It turns out the `react/self-closing-comp` rule is not necessary to cover for JSX tags that are not properly closed.")[#74120](https://github.com/vercel/next.js/pull/74120)[)](https://github.com/vercel/next.js/commit/9b79c118e37a53b1176ba9193a477440aec3659f "ci(eslint): remove unecessary react/self-closing-comp (#74120)
## Why?
It turns out the `react/self-closing-comp` rule is not necessary to cover for JSX tags that are not properly closed.")



 | 

Jan 7, 2025

 |
| 

[.git-blame-ignore-revs](https://github.com/vercel/next.js/blob/canary/.git-blame-ignore-revs ".git-blame-ignore-revs")







 | 

[.git-blame-ignore-revs](https://github.com/vercel/next.js/blob/canary/.git-blame-ignore-revs ".git-blame-ignore-revs")







 | 

[chore: add git blame ignore-revs support to gitlens for vscode config…](https://github.com/vercel/next.js/commit/2fb5ad797fad3db6c4fdd84aacae25f9e2d449fa "chore: add git blame ignore-revs support to gitlens for vscode configuration (#65762)
To help improve the developer experience for framework authors, this
enables the git blame ignore option to ignore some code changes that
were added to the project .git-blame-ignore-revs file.")



 | 

May 14, 2024

 |
| 

[.gitattributes](https://github.com/vercel/next.js/blob/canary/.gitattributes ".gitattributes")







 | 

[.gitattributes](https://github.com/vercel/next.js/blob/canary/.gitattributes ".gitattributes")







 | 

[chore(next-custom-transforms): Mark fixture outputs as generated (](https://github.com/vercel/next.js/commit/c94e8e3e291c5e336b4f2097483c3b29d6366991 "chore(next-custom-transforms): Mark fixture outputs as generated (#73918)
This should let GitHub (and Graphite) collapse these files by default in code review.
```
$ git check-attr --all crates/next-custom-transforms/tests/fixture/strip-page-exports/getInitialProps/class/*
crates/next-custom-transforms/tests/fixture/strip-page-exports/getInitialProps/class/output-data.js: linguist-generated: true
crates/next-custom-transforms/tests/fixture/strip-page-exports/getInitialProps/class/output-default.js: linguist-generated: true
```")[#73918](https://github.com/vercel/next.js/pull/73918)



 | 

Dec 16, 2024

 |
| 

[.gitignore](https://github.com/vercel/next.js/blob/canary/.gitignore ".gitignore")







 | 

[.gitignore](https://github.com/vercel/next.js/blob/canary/.gitignore ".gitignore")







 | 

[Add storybook for UI testing (](https://github.com/vercel/next.js/commit/a12192c8dd06a38631f6bbd2ecfcd69c8b6a5e2b "Add storybook for UI testing (#74032)
### Why?
This PR initialized the Storybook for UI, a11y, and screen testing for Dev Overlay and future potential. 
Closes NDX-587")[#74032](https://github.com/vercel/next.js/pull/74032)[)](https://github.com/vercel/next.js/commit/a12192c8dd06a38631f6bbd2ecfcd69c8b6a5e2b "Add storybook for UI testing (#74032)
### Why?
This PR initialized the Storybook for UI, a11y, and screen testing for Dev Overlay and future potential. 
Closes NDX-587")



 | 

Dec 18, 2024

 |
| 

[.ignore](https://github.com/vercel/next.js/blob/canary/.ignore ".ignore")







 | 

[.ignore](https://github.com/vercel/next.js/blob/canary/.ignore ".ignore")







 | 

[ast-grep lint fix: don’t call variables](https://github.com/vercel/next.js/commit/dc61b7c8ae9570bb689dfb5b5968141c64630dab "ast-grep lint fix: don’t call variables `context` (#68550)
This updates the remaining cases where we were using the generic
`context` name for variables, field names, etc.
It also adds an `.ignore` file to prevent files like the non-text
`broken.js` from being read by these kinds of tools. This is separate
from `.gitignore`.") ```
[context](https://github.com/vercel/next.js/commit/dc61b7c8ae9570bb689dfb5b5968141c64630dab "ast-grep lint fix: don’t call variables `context` (#68550)
This updates the remaining cases where we were using the generic
`context` name for variables, field names, etc.
It also adds an `.ignore` file to prevent files like the non-text
`broken.js` from being read by these kinds of tools. This is separate
from `.gitignore`.")
``` [(](https://github.com/vercel/next.js/commit/dc61b7c8ae9570bb689dfb5b5968141c64630dab "ast-grep lint fix: don’t call variables `context` (#68550)
This updates the remaining cases where we were using the generic
`context` name for variables, field names, etc.
It also adds an `.ignore` file to prevent files like the non-text
`broken.js` from being read by these kinds of tools. This is separate
from `.gitignore`.")[#68550](https://github.com/vercel/next.js/pull/68550)[)](https://github.com/vercel/next.js/commit/dc61b7c8ae9570bb689dfb5b5968141c64630dab "ast-grep lint fix: don’t call variables `context` (#68550)
This updates the remaining cases where we were using the generic
`context` name for variables, field names, etc.
It also adds an `.ignore` file to prevent files like the non-text
`broken.js` from being read by these kinds of tools. This is separate
from `.gitignore`.")



 | 

Aug 6, 2024

 |
| 

[.node-version](https://github.com/vercel/next.js/blob/canary/.node-version ".node-version")







 | 

[.node-version](https://github.com/vercel/next.js/blob/canary/.node-version ".node-version")







 | 

[update node-version specifier for broader support (](https://github.com/vercel/next.js/commit/dd3c8ffdd54d3996bc648dd85ffcdb1a619b3dfd "update node-version specifier for broader support (#68442)
### What?
The node-version specifier uses a less-broadly-supported syntax (`18.x`)
than other repos (for example turbo which uses `v20`). This simply
changes that around.
### Why?
Better support for env management tools such as `mise`")[#68442](https://github.com/vercel/next.js/pull/68442)[)](https://github.com/vercel/next.js/commit/dd3c8ffdd54d3996bc648dd85ffcdb1a619b3dfd "update node-version specifier for broader support (#68442)
### What?
The node-version specifier uses a less-broadly-supported syntax (`18.x`)
than other repos (for example turbo which uses `v20`). This simply
changes that around.
### Why?
Better support for env management tools such as `mise`")



 | 

Aug 5, 2024

 |
| 

[.npmrc](https://github.com/vercel/next.js/blob/canary/.npmrc ".npmrc")







 | 

[.npmrc](https://github.com/vercel/next.js/blob/canary/.npmrc ".npmrc")







 | 

[chore: update pnpm to 9.4.0 (](https://github.com/vercel/next.js/commit/e6983b911b01a13d975e61536e558f5ecef1eaac "chore: update pnpm to 9.4.0 (#64945)
## Why?
Notable change of v9 is Corepack is enabled by default.  
So we can ensure all package manage/resolved exact same version of pnpm.
- [**v9.0.0**](https://github.com/pnpm/pnpm/releases/tag/v9.0.0):
Discontinued support for Node.js v16 and introduced Corepack
compatibility checks. New configuration updates include enabling
`dedupe-injected-deps` and changing the lockfile to version 9, with
better readability and resistance to Git conflicts.
...
- [**v9.4.0**](https://github.com/pnpm/pnpm/releases/tag/v9.4.0)
- Kudos to @ryota-murakami for the original :pr:! →
https://github.com/vercel/next.js/pull/64854
## Changes
- https://pnpm.io/npmrc#link-workspace-packages defaults to `false` now,
so setting it to `true`
Closes NEXT-3211")[#64945](https://github.com/vercel/next.js/pull/64945)[)](https://github.com/vercel/next.js/commit/e6983b911b01a13d975e61536e558f5ecef1eaac "chore: update pnpm to 9.4.0 (#64945)
## Why?
Notable change of v9 is Corepack is enabled by default.  
So we can ensure all package manage/resolved exact same version of pnpm.
- [**v9.0.0**](https://github.com/pnpm/pnpm/releases/tag/v9.0.0):
Discontinued support for Node.js v16 and introduced Corepack
compatibility checks. New configuration updates include enabling
`dedupe-injected-deps` and changing the lockfile to version 9, with
better readability and resistance to Git conflicts.
...
- [**v9.4.0**](https://github.com/pnpm/pnpm/releases/tag/v9.4.0)
- Kudos to @ryota-murakami for the original :pr:! →
https://github.com/vercel/next.js/pull/64854
## Changes
- https://pnpm.io/npmrc#link-workspace-packages defaults to `false` now,
so setting it to `true`
Closes NEXT-3211")



 | 

Jun 28, 2024

 |
| 

[.prettierignore](https://github.com/vercel/next.js/blob/canary/.prettierignore ".prettierignore")







 | 

[.prettierignore](https://github.com/vercel/next.js/blob/canary/.prettierignore ".prettierignore")







 | 

[feat: rootParams (experimental) (](https://github.com/vercel/next.js/commit/f76c1aeacc5d46309a96387eab9334bf4ee1932e "feat: rootParams (experimental) (#72837)
### What & Why
It's common to have top-level \"dynamic\" params that remain constant (as \"global\" or \"root\" params) regardless of where you are within a root layout. For example, `[lang]` or `[locale]`, regardless of where you are in that layout that param will be available. We should provide a more convenient way to access these params without requiring it to be plumbed through ALS or context.  
### How
This introduces a new API, `unstable_rootParams`, that will return all segment params up to and including the [root layout](https://nextjs.org/docs/app/api-reference/file-conventions/layout#root-layouts). In other words:
`/app/[foo]/[bar]/layout.tsx` -> `{ foo: string, bar: string }`
`/app/[foo]/[bar]/[baz]/page.tsx` -> `{ foo: string, bar: string }` (`baz` is not included here since the root params up to the root layout were just `foo` & `bar`.
This also supports the case of having multiple root layouts. Since navigating between a root layouts will trigger an MPA navigation, we're still able to enforce that those params will not change.
This PR also includes some work to the types plugin generate types for root params because they can be statically determined ahead of time. For example, in the above example, `unstable_rootParams()` will be typed as `Promise<{ foo: string, bar: string }>`.
In the case where there are multiple root layouts, it gets a bit more nuanced. e.g. at build time we aren't able to determine if you're going to be accessing rootParams on root layout A or root layout B. For this reason, they'll become optionally typed, eg: `Promise<{ foo?: string }>` where `foo` might only be available on the `/app/(marketing)/[foo]/layout.tsx` root. 
This feature is experimental and under active development and as such, is currently exported with an `unstable` prefix.")[#72837](https://github.com/vercel/next.js/pull/72837)[)](https://github.com/vercel/next.js/commit/f76c1aeacc5d46309a96387eab9334bf4ee1932e "feat: rootParams (experimental) (#72837)
### What & Why
It's common to have top-level \"dynamic\" params that remain constant (as \"global\" or \"root\" params) regardless of where you are within a root layout. For example, `[lang]` or `[locale]`, regardless of where you are in that layout that param will be available. We should provide a more convenient way to access these params without requiring it to be plumbed through ALS or context.  
### How
This introduces a new API, `unstable_rootParams`, that will return all segment params up to and including the [root layout](https://nextjs.org/docs/app/api-reference/file-conventions/layout#root-layouts). In other words:
`/app/[foo]/[bar]/layout.tsx` -> `{ foo: string, bar: string }`
`/app/[foo]/[bar]/[baz]/page.tsx` -> `{ foo: string, bar: string }` (`baz` is not included here since the root params up to the root layout were just `foo` & `bar`.
This also supports the case of having multiple root layouts. Since navigating between a root layouts will trigger an MPA navigation, we're still able to enforce that those params will not change.
This PR also includes some work to the types plugin generate types for root params because they can be statically determined ahead of time. For example, in the above example, `unstable_rootParams()` will be typed as `Promise<{ foo: string, bar: string }>`.
In the case where there are multiple root layouts, it gets a bit more nuanced. e.g. at build time we aren't able to determine if you're going to be accessing rootParams on root layout A or root layout B. For this reason, they'll become optionally typed, eg: `Promise<{ foo?: string }>` where `foo` might only be available on the `/app/(marketing)/[foo]/layout.tsx` root. 
This feature is experimental and under active development and as such, is currently exported with an `unstable` prefix.")



 | 

Dec 16, 2024

 |
| 

[.prettierrc.json](https://github.com/vercel/next.js/blob/canary/.prettierrc.json ".prettierrc.json")







 | 

[.prettierrc.json](https://github.com/vercel/next.js/blob/canary/.prettierrc.json ".prettierrc.json")







 | 

[chore(examples): use default prettier for examples/templates (](https://github.com/vercel/next.js/commit/4466ba436b996263307171d344cca199e8087744 "chore(examples): use default prettier for examples/templates (#60530)
## Description
This PR ensures that the default prettier config is used for examples
and templates.
This config is compatible with `prettier@3` as well (upgrading prettier
is bigger change that can be a future PR).
## Changes
- Updated `.prettierrc.json` in root with `\"trailingComma\": \"es5\"` (will
be needed upgrading to prettier@3)
- Added `examples/.prettierrc.json` with default config (this will
change every example)
- Added `packages/create-next-app/templates/.prettierrc.json` with
default config (this will change every template)
## Related
- Fixes #54402
- Closes #54409")[#60530](https://github.com/vercel/next.js/pull/60530)[)](https://github.com/vercel/next.js/commit/4466ba436b996263307171d344cca199e8087744 "chore(examples): use default prettier for examples/templates (#60530)
## Description
This PR ensures that the default prettier config is used for examples
and templates.
This config is compatible with `prettier@3` as well (upgrading prettier
is bigger change that can be a future PR).
## Changes
- Updated `.prettierrc.json` in root with `\"trailingComma\": \"es5\"` (will
be needed upgrading to prettier@3)
- Added `examples/.prettierrc.json` with default config (this will
change every example)
- Added `packages/create-next-app/templates/.prettierrc.json` with
default config (this will change every template)
## Related
- Fixes #54402
- Closes #54409")



 | 

Jan 11, 2024

 |
| 

[.rustfmt.toml](https://github.com/vercel/next.js/blob/canary/.rustfmt.toml ".rustfmt.toml")







 | 

[.rustfmt.toml](https://github.com/vercel/next.js/blob/canary/.rustfmt.toml ".rustfmt.toml")







 | 

[chore(turbopack): Add](https://github.com/vercel/next.js/commit/0f0cfe5f23f5da6246bce7bc1beaebad23ea3fec "chore(turbopack): Add `comment_width = 100` to rustfmt.toml (#68541)
The default `comment_width` is `80`, which is a mismatch with the
`max_width` of `100`.
Previous discussion:
https://vercel.slack.com/archives/C03EWR7LGEN/p1716332166435329
Ran `cargo fmt` after making this change. It seems to mostly just fix
bullet points. Other places it likely can't differentiate between
wrapped text and intentional newlines.
I don't plan on going through and manually re-wrapping of all of the
comments, but over time this should get fixed as people change comments.") ```
[comment_width = 100](https://github.com/vercel/next.js/commit/0f0cfe5f23f5da6246bce7bc1beaebad23ea3fec "chore(turbopack): Add `comment_width = 100` to rustfmt.toml (#68541)
The default `comment_width` is `80`, which is a mismatch with the
`max_width` of `100`.
Previous discussion:
https://vercel.slack.com/archives/C03EWR7LGEN/p1716332166435329
Ran `cargo fmt` after making this change. It seems to mostly just fix
bullet points. Other places it likely can't differentiate between
wrapped text and intentional newlines.
I don't plan on going through and manually re-wrapping of all of the
comments, but over time this should get fixed as people change comments.")
``` [to rustfmt.toml (](https://github.com/vercel/next.js/commit/0f0cfe5f23f5da6246bce7bc1beaebad23ea3fec "chore(turbopack): Add `comment_width = 100` to rustfmt.toml (#68541)
The default `comment_width` is `80`, which is a mismatch with the
`max_width` of `100`.
Previous discussion:
https://vercel.slack.com/archives/C03EWR7LGEN/p1716332166435329
Ran `cargo fmt` after making this change. It seems to mostly just fix
bullet points. Other places it likely can't differentiate between
wrapped text and intentional newlines.
I don't plan on going through and manually re-wrapping of all of the
comments, but over time this should get fixed as people change comments.")[#68541](https://github.com/vercel/next.js/pull/68541)[)](https://github.com/vercel/next.js/commit/0f0cfe5f23f5da6246bce7bc1beaebad23ea3fec "chore(turbopack): Add `comment_width = 100` to rustfmt.toml (#68541)
The default `comment_width` is `80`, which is a mismatch with the
`max_width` of `100`.
Previous discussion:
https://vercel.slack.com/archives/C03EWR7LGEN/p1716332166435329
Ran `cargo fmt` after making this change. It seems to mostly just fix
bullet points. Other places it likely can't differentiate between
wrapped text and intentional newlines.
I don't plan on going through and manually re-wrapping of all of the
comments, but over time this should get fixed as people change comments.")



 | 

Aug 5, 2024

 |
| 

[CODE\_OF\_CONDUCT.md](https://github.com/vercel/next.js/blob/canary/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md")







 | 

[CODE\_OF\_CONDUCT.md](https://github.com/vercel/next.js/blob/canary/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md")







 | 

[updated code of conduct to v2.1 (](https://github.com/vercel/next.js/commit/09443fc54605245a6a7b05be220aa8cb08008323 "updated code of conduct to v2.1 (#34208)")[#34208](https://github.com/vercel/next.js/pull/34208)[)](https://github.com/vercel/next.js/commit/09443fc54605245a6a7b05be220aa8cb08008323 "updated code of conduct to v2.1 (#34208)")



 | 

Feb 11, 2022

 |
| 

[Cargo.lock](https://github.com/vercel/next.js/blob/canary/Cargo.lock "Cargo.lock")







 | 

[Cargo.lock](https://github.com/vercel/next.js/blob/canary/Cargo.lock "Cargo.lock")







 | 

[build: Update](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?") ```
[swc_core](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")
``` [to](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?") ```
[v10.5.0](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")
``` [(](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")[#75098](https://github.com/vercel/next.js/pull/75098)[)](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")



 | 

Jan 20, 2025

 |
| 

[Cargo.toml](https://github.com/vercel/next.js/blob/canary/Cargo.toml "Cargo.toml")







 | 

[Cargo.toml](https://github.com/vercel/next.js/blob/canary/Cargo.toml "Cargo.toml")







 | 

[build: Update](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?") ```
[swc_core](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")
``` [to](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?") ```
[v10.5.0](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")
``` [(](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")[#75098](https://github.com/vercel/next.js/pull/75098)[)](https://github.com/vercel/next.js/commit/a7ac453d644d0d4bc751071c5b96ea7e2b5a6ddf "build: Update `swc_core` to `v10.5.0` (#75098)
### What?
Update SWC crates.
- ChangeLog: https://github.com/swc-project/swc/compare/swc_core%40v10.3.0...swc_core%40v10.5.0
### Why?
To keep in sync and apply minifier perf PRs like
- https://github.com/swc-project/swc/pull/9894
- https://github.com/swc-project/swc/pull/9895
- https://github.com/swc-project/swc/pull/9900
- https://github.com/swc-project/swc/pull/9901
- https://github.com/swc-project/swc/pull/9902
### How?")



 | 

Jan 20, 2025

 |
| 

[UPGRADING.md](https://github.com/vercel/next.js/blob/canary/UPGRADING.md "UPGRADING.md")







 | 

[UPGRADING.md](https://github.com/vercel/next.js/blob/canary/UPGRADING.md "UPGRADING.md")







 | 

[docs: update broken link in UPGRADING.md (](https://github.com/vercel/next.js/commit/bca1972f6f112b9f76a3465a7b710b339ecfbdc6 "docs: update broken link in UPGRADING.md (#70107)
## Description
At #60388, upgrading.md was moved.
Then update the link to correct directory.
❌
[/docs/02-app/01-building-your-application/10-upgrading](https://github.com/vercel/next.js/blob/canary//docs/02-app/01-building-your-application/10-upgrading)
✔️
[/docs/02-app/01-building-your-application/11-upgrading](https://github.com/vercel/next.js/blob/canary//docs/02-app/01-building-your-application/11-upgrading)
### Improving Documentation
- [x] Run `pnpm prettier-fix` to fix formatting issues before opening
the PR.
- [x] Read the Docs Contribution Guide to ensure your contribution
follows the docs guidelines:
https://nextjs.org/docs/community/contribution-guide
x-ref: #60388 
<!-- Thanks for opening a PR! Your contribution is much appreciated.
To make sure your PR is handled as smoothly as possible we request that
you follow the checklist sections below.
Choose the right checklist for the change(s) that you're making:
## For Contributors
### Adding or Updating Examples
- The \"examples guidelines\" are followed from our contributing doc
https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md
- Make sure the linting passes by running `pnpm build && pnpm lint`. See
https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md
### Fixing a bug
- Related issues linked using `fixes #number`
- Tests added. See:
https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs
- Errors have a helpful link attached, see
https://github.com/vercel/next.js/blob/canary/contributing.md
### Adding a feature
- Implements an existing feature request or RFC. Make sure the feature
request has been accepted for implementation before opening a PR. (A
discussion must be opened, see
https://github.com/vercel/next.js/discussions/new?category=ideas)
- Related issues/discussions are linked using `fixes #number`
- e2e tests added
(https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)
- Documentation added
- Telemetry added. In case of a feature if it's used or not.
- Errors have a helpful link attached, see
https://github.com/vercel/next.js/blob/canary/contributing.md
## For Maintainers
- Minimal description (aim for explaining to someone not on the team to
understand the PR)
- When linking to a Slack thread, you might want to share details of the
conclusion
- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues
- Add review comments if necessary to explain to the reviewer the logic
behind a change
### What?
### Why?
### How?
Closes NEXT-
Fixes #
-->
Co-authored-by: JJ Kasper <jj@jjsweb.site>")[#70107](https://github.com/vercel/next.js/pull/70107)[)](https://github.com/vercel/next.js/commit/bca1972f6f112b9f76a3465a7b710b339ecfbdc6 "docs: update broken link in UPGRADING.md (#70107)
## Description
At #60388, upgrading.md was moved.
Then update the link to correct directory.
❌
[/docs/02-app/01-building-your-application/10-upgrading](https://github.com/vercel/next.js/blob/canary//docs/02-app/01-building-your-application/10-upgrading)
✔️
[/docs/02-app/01-building-your-application/11-upgrading](https://github.com/vercel/next.js/blob/canary//docs/02-app/01-building-your-application/11-upgrading)
### Improving Documentation
- [x] Run `pnpm prettier-fix` to fix formatting issues before opening
the PR.
- [x] Read the Docs Contribution Guide to ensure your contribution
follows the docs guidelines:
https://nextjs.org/docs/community/contribution-guide
x-ref: #60388 
<!-- Thanks for opening a PR! Your contribution is much appreciated.
To make sure your PR is handled as smoothly as possible we request that
you follow the checklist sections below.
Choose the right checklist for the change(s) that you're making:
## For Contributors
### Adding or Updating Examples
- The \"examples guidelines\" are followed from our contributing doc
https://github.com/vercel/next.js/blob/canary/contributing/examples/adding-examples.md
- Make sure the linting passes by running `pnpm build && pnpm lint`. See
https://github.com/vercel/next.js/blob/canary/contributing/repository/linting.md
### Fixing a bug
- Related issues linked using `fixes #number`
- Tests added. See:
https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs
- Errors have a helpful link attached, see
https://github.com/vercel/next.js/blob/canary/contributing.md
### Adding a feature
- Implements an existing feature request or RFC. Make sure the feature
request has been accepted for implementation before opening a PR. (A
discussion must be opened, see
https://github.com/vercel/next.js/discussions/new?category=ideas)
- Related issues/discussions are linked using `fixes #number`
- e2e tests added
(https://github.com/vercel/next.js/blob/canary/contributing/core/testing.md#writing-tests-for-nextjs)
- Documentation added
- Telemetry added. In case of a feature if it's used or not.
- Errors have a helpful link attached, see
https://github.com/vercel/next.js/blob/canary/contributing.md
## For Maintainers
- Minimal description (aim for explaining to someone not on the team to
understand the PR)
- When linking to a Slack thread, you might want to share details of the
conclusion
- Link both the Linear (Fixes NEXT-xxx) and the GitHub issues
- Add review comments if necessary to explain to the reviewer the logic
behind a change
### What?
### Why?
### How?
Closes NEXT-
Fixes #
-->
Co-authored-by: JJ Kasper <jj@jjsweb.site>")



 | 

Sep 16, 2024

 |
| 

[contributing.md](https://github.com/vercel/next.js/blob/canary/contributing.md "contributing.md")







 | 

[contributing.md](https://github.com/vercel/next.js/blob/canary/contributing.md "contributing.md")







 | 

[chore: improve repo templates (](https://github.com/vercel/next.js/commit/16a0e5af3213c0078b3069c795bf2bdad202c896 "chore: improve repo templates (#46629)
## What?
- Rendering `next info` output as code in the bug template
- Removed the \"Feature Request\" issue template, in favor of a more
granular discussion template
- Added a minimal template for Help discussions
## Why?
The main part of this PR is the new Feature Request template.
Anyone can propose a change to Next.js. However adding new features
often requires community discussions - whether to align expectations,
understand the consequences (eg.: backward compatibility/lifetime of a
feature), to look at and understand historical reasons for the current
behavior or lack of the feature -, which [GitHub
discussions](https://github.com/vercel/next.js/discussions) is more
suited for than issues.
## How?
- Utilizing the new discussion templates
https://docs.github.com/en/discussions/managing-discussions-for-your-community/creating-discussion-category-forms
- Adding a link to the [new
issue](https://github.com/vercel/next.js/issues/new/choose) view to make
it easier to discover
[Slack
thread](https://vercel.slack.com/archives/C04DUD7EB1B/p1670874727319809)
Closes NEXT-742
---------")[#46629](https://github.com/vercel/next.js/pull/46629)[)](https://github.com/vercel/next.js/commit/16a0e5af3213c0078b3069c795bf2bdad202c896 "chore: improve repo templates (#46629)
## What?
- Rendering `next info` output as code in the bug template
- Removed the \"Feature Request\" issue template, in favor of a more
granular discussion template
- Added a minimal template for Help discussions
## Why?
The main part of this PR is the new Feature Request template.
Anyone can propose a change to Next.js. However adding new features
often requires community discussions - whether to align expectations,
understand the consequences (eg.: backward compatibility/lifetime of a
feature), to look at and understand historical reasons for the current
behavior or lack of the feature -, which [GitHub
discussions](https://github.com/vercel/next.js/discussions) is more
suited for than issues.
## How?
- Utilizing the new discussion templates
https://docs.github.com/en/discussions/managing-discussions-for-your-community/creating-discussion-category-forms
- Adding a link to the [new
issue](https://github.com/vercel/next.js/issues/new/choose) view to make
it easier to discover
[Slack
thread](https://vercel.slack.com/archives/C04DUD7EB1B/p1670874727319809)
Closes NEXT-742
---------")



 | 

Mar 1, 2023

 |
| 

[jest.config.js](https://github.com/vercel/next.js/blob/canary/jest.config.js "jest.config.js")







 | 

[jest.config.js](https://github.com/vercel/next.js/blob/canary/jest.config.js "jest.config.js")







 | 

[Name default Jest project according to used env variables (](https://github.com/vercel/next.js/commit/764f88514008e33d768608539b4ace0991d2a1b2 "Name default Jest project according to used env variables (#74084)")[#74084](https://github.com/vercel/next.js/pull/74084)[)](https://github.com/vercel/next.js/commit/764f88514008e33d768608539b4ace0991d2a1b2 "Name default Jest project according to used env variables (#74084)")



 | 

Dec 18, 2024

 |
| 

[jest.config.turbopack.js](https://github.com/vercel/next.js/blob/canary/jest.config.turbopack.js "jest.config.turbopack.js")







 | 

[jest.config.turbopack.js](https://github.com/vercel/next.js/blob/canary/jest.config.turbopack.js "jest.config.turbopack.js")







 | 

[Create Jest project for Turbopack (](https://github.com/vercel/next.js/commit/e72dc52be5ae4fa8f2286083576ae90f73a41c36 "Create Jest project for Turbopack (#73769)")[#73769](https://github.com/vercel/next.js/pull/73769)[)](https://github.com/vercel/next.js/commit/e72dc52be5ae4fa8f2286083576ae90f73a41c36 "Create Jest project for Turbopack (#73769)")



 | 

Dec 17, 2024

 |
| 

[lerna.json](https://github.com/vercel/next.js/blob/canary/lerna.json "lerna.json")







 | 

[lerna.json](https://github.com/vercel/next.js/blob/canary/lerna.json "lerna.json")







 | 

[v15.2.0-canary.16](https://github.com/vercel/next.js/commit/3f3f4bc78145e1bb271781aabd595758dd0686a9 "v15.2.0-canary.16")



 | 

Jan 18, 2025

 |
| 

[license.md](https://github.com/vercel/next.js/blob/canary/license.md "license.md")







 | 

[license.md](https://github.com/vercel/next.js/blob/canary/license.md "license.md")







 | 

[docs: bump year (](https://github.com/vercel/next.js/commit/869694860afaa3f84c8a32bb315f2bf2bfef9c06 "docs: bump year (#74475)
Happy 2025!!
---------
Co-authored-by: JJ Kasper <jj@jjsweb.site>")[#74475](https://github.com/vercel/next.js/pull/74475)[)](https://github.com/vercel/next.js/commit/869694860afaa3f84c8a32bb315f2bf2bfef9c06 "docs: bump year (#74475)
Happy 2025!!
---------
Co-authored-by: JJ Kasper <jj@jjsweb.site>")



 | 

Jan 2, 2025

 |
| 

[lint-staged.config.js](https://github.com/vercel/next.js/blob/canary/lint-staged.config.js "lint-staged.config.js")







 | 

[lint-staged.config.js](https://github.com/vercel/next.js/blob/canary/lint-staged.config.js "lint-staged.config.js")







 | 

[Fix linting between lint-check and lint-staged (](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")[#74503](https://github.com/vercel/next.js/pull/74503)[)](https://github.com/vercel/next.js/commit/2e114e44c56c796f634e1f8800417b8846fcf490 "Fix linting between lint-check and lint-staged (#74503)")



 | 

Jan 3, 2025

 |
| 

[package.json](https://github.com/vercel/next.js/blob/canary/package.json "package.json")







 | 

[package.json](https://github.com/vercel/next.js/blob/canary/package.json "package.json")







 | 

[Upgrade React from](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)") ``[b158439a-20250115](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)")`` [to](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)") ``[5b51a2b9-20250116](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)")`` [(](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)")[#74993](https://github.com/vercel/next.js/pull/74993)[)](https://github.com/vercel/next.js/commit/2149d60fe4ebf0a0ec85d59d5054841668218e20 "Upgrade React from `b158439a-20250115` to `5b51a2b9-20250116` (#74993)")



 | 

Jan 16, 2025

 |
| 

[pnpm-lock.yaml](https://github.com/vercel/next.js/blob/canary/pnpm-lock.yaml "pnpm-lock.yaml")







 | 

[pnpm-lock.yaml](https://github.com/vercel/next.js/blob/canary/pnpm-lock.yaml "pnpm-lock.yaml")







 | 

[v15.2.0-canary.16](https://github.com/vercel/next.js/commit/3f3f4bc78145e1bb271781aabd595758dd0686a9 "v15.2.0-canary.16")



 | 

Jan 18, 2025

 |
| 

[pnpm-workspace.yaml](https://github.com/vercel/next.js/blob/canary/pnpm-workspace.yaml "pnpm-workspace.yaml")







 | 

[pnpm-workspace.yaml](https://github.com/vercel/next.js/blob/canary/pnpm-workspace.yaml "pnpm-workspace.yaml")







 | 

[chore: fix references for the new turbopack crates (](https://github.com/vercel/next.js/commit/7c3b279044198467880d9b8c7cfb051772a238a6 "chore: fix references for the new turbopack crates (#68128)
### What?
Follow up for the previous PR in the stack updating references,
lockfiles and
snapshots.
### Why?
https://vercel.com/blog/turbopack-moving-homes
### How?
https://github.com/vercel/next-turbo-merge
Closes PACK-3163")[#68128](https://github.com/vercel/next.js/pull/68128)[)](https://github.com/vercel/next.js/commit/7c3b279044198467880d9b8c7cfb051772a238a6 "chore: fix references for the new turbopack crates (#68128)
### What?
Follow up for the previous PR in the stack updating references,
lockfiles and
snapshots.
### Why?
https://vercel.com/blog/turbopack-moving-homes
### How?
https://github.com/vercel/next-turbo-merge
Closes PACK-3163")



 | 

Aug 1, 2024

 |
| 

[readme.md](https://github.com/vercel/next.js/blob/canary/readme.md "readme.md")







 | 

[readme.md](https://github.com/vercel/next.js/blob/canary/readme.md "readme.md")







 | 

[Monorepo (](https://github.com/vercel/next.js/commit/b1c4f3aec4ca2d51b0ed849914cc8fc97805740a "Monorepo (#5341)
- Implements Lerna
- Moves all source code into `packages/next`
- Keeps integration tests in the root directory")[#5341](https://github.com/vercel/next.js/pull/5341)[)](https://github.com/vercel/next.js/commit/b1c4f3aec4ca2d51b0ed849914cc8fc97805740a "Monorepo (#5341)
- Implements Lerna
- Moves all source code into `packages/next`
- Keeps integration tests in the root directory")



 | 

Sep 30, 2018

 |
| 

[release.js](https://github.com/vercel/next.js/blob/canary/release.js "release.js")







 | 

[release.js](https://github.com/vercel/next.js/blob/canary/release.js "release.js")







 | 

[chore: update labels in workflows/templates (](https://github.com/vercel/next.js/commit/6a9a39205936396166ec0d0d643409d1073abe82 "chore: update labels in workflows/templates (#63713)")[#63713](https://github.com/vercel/next.js/pull/63713)[)](https://github.com/vercel/next.js/commit/6a9a39205936396166ec0d0d643409d1073abe82 "chore: update labels in workflows/templates (#63713)")



 | 

Apr 17, 2024

 |
| 

[run-tests.js](https://github.com/vercel/next.js/blob/canary/run-tests.js "run-tests.js")







 | 

[run-tests.js](https://github.com/vercel/next.js/blob/canary/run-tests.js "run-tests.js")







 | 

[Increase test retries from 1 to 2 (](https://github.com/vercel/next.js/commit/763ca5e6a5b2ddad7b2eeda177a9d6b38a6d2ad6 "Increase test retries from 1 to 2 (#73795)
Let's see how this affects the failure rate and duration of our tests in
CI.
Test times for any given group might increase a bit, while hopefully at
least increasing the chance that the whole test group succeeds. This
would in theory reduce the number of times we have to re-run a whole
failed test group, which is quite time consuming.
A possible downside of this change is that flaky tests which have a
chance of getting fixed with a better implementation might be harder to
detect.")[#73795](https://github.com/vercel/next.js/pull/73795)[)](https://github.com/vercel/next.js/commit/763ca5e6a5b2ddad7b2eeda177a9d6b38a6d2ad6 "Increase test retries from 1 to 2 (#73795)
Let's see how this affects the failure rate and duration of our tests in
CI.
Test times for any given group might increase a bit, while hopefully at
least increasing the chance that the whole test group succeeds. This
would in theory reduce the number of times we have to re-run a whole
failed test group, which is quite time consuming.
A possible downside of this change is that flaky tests which have a
chance of getting fixed with a better implementation might be harder to
detect.")



 | 

Dec 11, 2024

 |
| 

[rust-toolchain.toml](https://github.com/vercel/next.js/blob/canary/rust-toolchain.toml "rust-toolchain.toml")







 | 

[rust-toolchain.toml](https://github.com/vercel/next.js/blob/canary/rust-toolchain.toml "rust-toolchain.toml")







 | 

[Bump Rust version (](https://github.com/vercel/next.js/commit/477e1e4becde7dc6e26fb817bd85eb2108aeec24 "Bump Rust version (#73169)")[#73169](https://github.com/vercel/next.js/pull/73169)[)](https://github.com/vercel/next.js/commit/477e1e4becde7dc6e26fb817bd85eb2108aeec24 "Bump Rust version (#73169)")



 | 

Dec 12, 2024

 |
| 

[sgconfig.yml](https://github.com/vercel/next.js/blob/canary/sgconfig.yml "sgconfig.yml")







 | 

[sgconfig.yml](https://github.com/vercel/next.js/blob/canary/sgconfig.yml "sgconfig.yml")







 | 

[Add ast-grep GitHub Action (](https://github.com/vercel/next.js/commit/5628c26e3e1fff4884a67e5be418fa3a3d48bd5c "Add ast-grep GitHub Action (#68540)
This uses the official ast-grep GitHub Action [0] to run our ast-grep
lints on changes.
Test Plan: CI
[0] https://github.com/ast-grep/action")[#68540](https://github.com/vercel/next.js/pull/68540)[)](https://github.com/vercel/next.js/commit/5628c26e3e1fff4884a67e5be418fa3a3d48bd5c "Add ast-grep GitHub Action (#68540)
This uses the official ast-grep GitHub Action [0] to run our ast-grep
lints on changes.
Test Plan: CI
[0] https://github.com/ast-grep/action")



 | 

Aug 5, 2024

 |
| 

[socket.yaml](https://github.com/vercel/next.js/blob/canary/socket.yaml "socket.yaml")







 | 

[socket.yaml](https://github.com/vercel/next.js/blob/canary/socket.yaml "socket.yaml")







 | 

[Update Socket config (](https://github.com/vercel/next.js/commit/675ec38fd661992aa8f05a1be7fe03eae1ea1b46 "Update Socket config (#68875)")[#68875](https://github.com/vercel/next.js/pull/68875)[)](https://github.com/vercel/next.js/commit/675ec38fd661992aa8f05a1be7fe03eae1ea1b46 "Update Socket config (#68875)")



 | 

Aug 14, 2024

 |
| 

[test-file.txt](https://github.com/vercel/next.js/blob/canary/test-file.txt "test-file.txt")







 | 

[test-file.txt](https://github.com/vercel/next.js/blob/canary/test-file.txt "test-file.txt")







 | 

[Add additional file serving tests (](https://github.com/vercel/next.js/commit/00d930aae82e59dd2d4facd25af249c31c9933c5 "Add additional file serving tests (#12479)
* Test `static/` file name encoding
* Fix `static/` file name encoding
* Add additional file-serving tests
* bump
Co-authored-by: Joe Haddad <joe.haddad@zeit.co>")[#12479](https://github.com/vercel/next.js/pull/12479)[)](https://github.com/vercel/next.js/commit/00d930aae82e59dd2d4facd25af249c31c9933c5 "Add additional file serving tests (#12479)
* Test `static/` file name encoding
* Fix `static/` file name encoding
* Add additional file-serving tests
* bump
Co-authored-by: Joe Haddad <joe.haddad@zeit.co>")



 | 

May 4, 2020

 |
| 

[tsconfig-tsec.json](https://github.com/vercel/next.js/blob/canary/tsconfig-tsec.json "tsconfig-tsec.json")







 | 

[tsconfig-tsec.json](https://github.com/vercel/next.js/blob/canary/tsconfig-tsec.json "tsconfig-tsec.json")







 | 

[Integrate tsec into the linting process (](https://github.com/vercel/next.js/commit/ce4923c65988dc83680587bb2315e95ec7ee83bd "Integrate tsec into the linting process (#33746)
* Integrate tsec into the linting process
* Update tsec-exemptions.json")[#33746](https://github.com/vercel/next.js/pull/33746)[)](https://github.com/vercel/next.js/commit/ce4923c65988dc83680587bb2315e95ec7ee83bd "Integrate tsec into the linting process (#33746)
* Integrate tsec into the linting process
* Update tsec-exemptions.json")



 | 

Feb 25, 2022

 |
| 

[tsconfig.json](https://github.com/vercel/next.js/blob/canary/tsconfig.json "tsconfig.json")







 | 

[tsconfig.json](https://github.com/vercel/next.js/blob/canary/tsconfig.json "tsconfig.json")







 | 

[Partial Fallback Prerendering (](https://github.com/vercel/next.js/commit/f4c1a406e420e5ee5c01040e642a2e2fcc97f72f "Partial Fallback Prerendering (#68958)
This work introduces the new concept of **Partial Fallback Prerendering
(PFPR)**.
Traditionally, when a dynamic page needed to be routed to that wasn't
pregenerated, it required a render to generate even the first few bytes
of the static page itself. This resulted in slow page loads for pages
not frequently visited and a reduced Time to First Byte (TTFB) score on
Core Web Vitals (CWV).
PFPR takes advantage of the new systems of Partial Prerendering (PPR)
that allows the application to suspend at different points mid-render,
and resume it later. We mark any unknown parameter access as dynamic
access, and suspend the rendering up to the next suspense boundaries at
those points. Under ideal conditions (correctly placed `<Suspense />`
boundaries or `loading.jsx` files) this generates a static shell that
can be served to users as soon as the request hits Next.js, right out of
the static cache. This minimizes the TTFB for all requests, dynamic or
not for those pages that enable PPR. For example, the following page
would create a usable shell:
```jsx
// /app/users/[userID]/page.jsx
import { Suspense } from 'react'
function Profile({ params }) {
const { userID } = params
return <div>Hello {userID}!</div>
}
export default function ProfilePage({ params }) {
return (
<div>
<h1>User Profile</h1>
<Suspense fallback=\"Loading...\">
<Profile params={params} />
</Suspense>
</div>
)
}
```
Due to the way that suspense works within React components, access of
params within the root page component would cause the whole page to
suspend. Thankfully, that's where the `loading.jsx` comes in handy.
Adding a `loading.jsx` at a segment will automatically wrap the
`page.jsx` with a suspense boundary, setting the contents of the root
`loading.jsx` as the fallback component to use for it. This lets you
maintain your existing style of accessing parameters at the root of the
components while also taking advantage of PFPR.
To enable this feature, you first need to enable both PPR and PFPR:
```js
module.exports = {
experimental: {
ppr: true,
pprFallbacks: true,
}
}
```
Once PFPR has stabilized with hosting providers, the experimental flag
will go away and it will become the default with the PPR flag.")[#68958](https://github.com/vercel/next.js/pull/68958)[)](https://github.com/vercel/next.js/commit/f4c1a406e420e5ee5c01040e642a2e2fcc97f72f "Partial Fallback Prerendering (#68958)
This work introduces the new concept of **Partial Fallback Prerendering
(PFPR)**.
Traditionally, when a dynamic page needed to be routed to that wasn't
pregenerated, it required a render to generate even the first few bytes
of the static page itself. This resulted in slow page loads for pages
not frequently visited and a reduced Time to First Byte (TTFB) score on
Core Web Vitals (CWV).
PFPR takes advantage of the new systems of Partial Prerendering (PPR)
that allows the application to suspend at different points mid-render,
and resume it later. We mark any unknown parameter access as dynamic
access, and suspend the rendering up to the next suspense boundaries at
those points. Under ideal conditions (correctly placed `<Suspense />`
boundaries or `loading.jsx` files) this generates a static shell that
can be served to users as soon as the request hits Next.js, right out of
the static cache. This minimizes the TTFB for all requests, dynamic or
not for those pages that enable PPR. For example, the following page
would create a usable shell:
```jsx
// /app/users/[userID]/page.jsx
import { Suspense } from 'react'
function Profile({ params }) {
const { userID } = params
return <div>Hello {userID}!</div>
}
export default function ProfilePage({ params }) {
return (
<div>
<h1>User Profile</h1>
<Suspense fallback=\"Loading...\">
<Profile params={params} />
</Suspense>
</div>
)
}
```
Due to the way that suspense works within React components, access of
params within the root page component would cause the whole page to
suspend. Thankfully, that's where the `loading.jsx` comes in handy.
Adding a `loading.jsx` at a segment will automatically wrap the
`page.jsx` with a suspense boundary, setting the contents of the root
`loading.jsx` as the fallback component to use for it. This lets you
maintain your existing style of accessing parameters at the root of the
components while also taking advantage of PFPR.
To enable this feature, you first need to enable both PPR and PFPR:
```js
module.exports = {
experimental: {
ppr: true,
pprFallbacks: true,
}
}
```
Once PFPR has stabilized with hosting providers, the experimental flag
will go away and it will become the default with the PPR flag.")



 | 

Aug 28, 2024

 |
| 

[tsec-exemptions.json](https://github.com/vercel/next.js/blob/canary/tsec-exemptions.json "tsec-exemptions.json")







 | 

[tsec-exemptions.json](https://github.com/vercel/next.js/blob/canary/tsec-exemptions.json "tsec-exemptions.json")







 | 

[Add prerender indicator for app router (](https://github.com/vercel/next.js/commit/8cc2dd0edf74be7f73a00600f3b11567566c01be "Add prerender indicator for app router (#67306)
## Background
Currently in app router during development all pages are dynamic
rendered and streamed since we don't know if a page will be prerendered
until after the page is rendered. During build time we do a render pass
for each path and if it doesn't bail from static generation it is
considered prerendered/ISR'd.
Since it can be tricky to track all the bail outs for static generation
and doing numerous builds to track this isn't feasible we want to have
some sort of signal in development to show if it would have been
prerendered.
## New Handling
To alleviate the above pain point we are planning to bring back the
prerendered indicator from pages initially and have a config to disable
if desired. We are also going to investigate other possible indicators
potentially through headers or similar.
<details>
<summary>Preview</summary>
![CleanShot 2024-06-29 at 08 56
11@2x](https://github.com/vercel/next.js/assets/22380829/37d4d351-903d-49a2-9541-932e7d5a1e54)
![CleanShot 2024-06-29 at 08 55
46@2x](https://github.com/vercel/next.js/assets/22380829/8356f287-e0d0-4c37-aa1e-1f08639dd478)
</details>
---------
Co-authored-by: Jiachi Liu <inbox@huozhi.im>")[#67306](https://github.com/vercel/next.js/pull/67306)[)](https://github.com/vercel/next.js/commit/8cc2dd0edf74be7f73a00600f3b11567566c01be "Add prerender indicator for app router (#67306)
## Background
Currently in app router during development all pages are dynamic
rendered and streamed since we don't know if a page will be prerendered
until after the page is rendered. During build time we do a render pass
for each path and if it doesn't bail from static generation it is
considered prerendered/ISR'd.
Since it can be tricky to track all the bail outs for static generation
and doing numerous builds to track this isn't feasible we want to have
some sort of signal in development to show if it would have been
prerendered.
## New Handling
To alleviate the above pain point we are planning to bring back the
prerendered indicator from pages initially and have a config to disable
if desired. We are also going to investigate other possible indicators
potentially through headers or similar.
<details>
<summary>Preview</summary>
![CleanShot 2024-06-29 at 08 56
11@2x](https://github.com/vercel/next.js/assets/22380829/37d4d351-903d-49a2-9541-932e7d5a1e54)
![CleanShot 2024-06-29 at 08 55
46@2x](https://github.com/vercel/next.js/assets/22380829/8356f287-e0d0-4c37-aa1e-1f08639dd478)
</details>
---------
Co-authored-by: Jiachi Liu <inbox@huozhi.im>")



 | 

Jul 10, 2024

 |
| 

[turbo.json](https://github.com/vercel/next.js/blob/canary/turbo.json "turbo.json")







 | 

[turbo.json](https://github.com/vercel/next.js/blob/canary/turbo.json "turbo.json")







 | 

[Include CI runner labels in Turborepo hashes (](https://github.com/vercel/next.js/commit/6d17cc6b0f3c153d2405ac97e862da2e9008258f "Include CI runner labels in Turborepo hashes (#75099)
Avoids cache collisions for output with platform-specific contents (e.g.
paths) that may be generated on Linux or Windows runners. Docs:
https://turbo.build/repo/docs/crafting-your-repository/using-environment-variables#adding-environment-variables-to-task-hashes")[#75099](https://github.com/vercel/next.js/pull/75099)[)](https://github.com/vercel/next.js/commit/6d17cc6b0f3c153d2405ac97e862da2e9008258f "Include CI runner labels in Turborepo hashes (#75099)
Avoids cache collisions for output with platform-specific contents (e.g.
paths) that may be generated on Linux or Windows runners. Docs:
https://turbo.build/repo/docs/crafting-your-repository/using-environment-variables#adding-environment-variables-to-task-hashes")



 | 

Jan 20, 2025

 |
| 

[vercel.json](https://github.com/vercel/next.js/blob/canary/vercel.json "vercel.json")







 | 

[vercel.json](https://github.com/vercel/next.js/blob/canary/vercel.json "vercel.json")







 | 

[Silence GH Comments for Preview URLs (](https://github.com/vercel/next.js/commit/7e51b29c23e405c4b15add8026086d83d8431d9b "Silence GH Comments for Preview URLs (#18766)
Disabling GH Comments per @Timer 
These are the same settings we use for the `vercel/vercel` repo.")[#18766](https://github.com/vercel/next.js/pull/18766)[)](https://github.com/vercel/next.js/commit/7e51b29c23e405c4b15add8026086d83d8431d9b "Silence GH Comments for Preview URLs (#18766)
Disabling GH Comments per @Timer 
These are the same settings we use for the `vercel/vercel` repo.")



 | 

Nov 3, 2020

 |
| 

View all files

 |

Repository files navigation
---------------------------

*   [README](https://github.com/vercel/next.js?screenshot=true#)
*   [Code of conduct](https://github.com/vercel/next.js?screenshot=true#)
*   [MIT license](https://github.com/vercel/next.js?screenshot=true#)
*   [Security](https://github.com/vercel/next.js?screenshot=true#)

 [![Image 30: Next.js logo](https://camo.githubusercontent.com/26d06a6572aa5d9ecdb699add71d40e57aefe8244c6306ba58a70aee6ad5123c/68747470733a2f2f6173736574732e76657263656c2e636f6d2f696d6167652f75706c6f61642f76313636323133303535392f6e6578746a732f49636f6e5f6c696768745f6261636b67726f756e642e706e67)](https://nextjs.org/)

Next.js
=======

[](https://github.com/vercel/next.js?screenshot=true#nextjs)

[![Image 31: Vercel logo](https://camo.githubusercontent.com/a7ee01bcc96a6e07e392a87f7e3202faa847efd0bc129e66f716ea98d9302ced/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d414445253230425925323056657263656c2d3030303030302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d56657263656c266c6162656c436f6c6f723d303030)](https://vercel.com/) [![Image 32: NPM version](https://camo.githubusercontent.com/60dcf9db176916c5e18b23978eb6d1c0282a88ed3d9632568c6b953f868b3b6f/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f6e6578742e7376673f7374796c653d666f722d7468652d6261646765266c6162656c436f6c6f723d303030303030)](https://www.npmjs.com/package/next) [![Image 33: License](https://camo.githubusercontent.com/34bfded824851462f4cbaf614527b184b1872b41e35a6414ecbff72ecbe1e25a/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f6e6578742e7376673f7374796c653d666f722d7468652d6261646765266c6162656c436f6c6f723d303030303030)](https://github.com/vercel/next.js/blob/canary/license.md) [![Image 34: Join the community on GitHub](https://camo.githubusercontent.com/84f18bb62460515b8c657f349c87d7f8a85b6044b58e73495f4dbe79588f59c5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4a6f696e253230746865253230636f6d6d756e6974792d626c756576696f6c65742e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d4e6578742e6a73266c6162656c436f6c6f723d303030303030266c6f676f57696474683d3230)](https://github.com/vercel/next.js/discussions)

Getting Started
---------------

[](https://github.com/vercel/next.js?screenshot=true#getting-started)

Used by some of the world's largest companies, Next.js enables you to create full-stack web applications by extending the latest React features, and integrating powerful Rust-based JavaScript tooling for the fastest builds.

*   Visit our [Learn Next.js](https://nextjs.org/learn) course to get started with Next.js.
*   Visit the [Next.js Showcase](https://nextjs.org/showcase) to see more sites built with Next.js.

Documentation
-------------

[](https://github.com/vercel/next.js?screenshot=true#documentation)

Visit [https://nextjs.org/docs](https://nextjs.org/docs) to view the full documentation.

Community
---------

[](https://github.com/vercel/next.js?screenshot=true#community)

The Next.js community can be found on [GitHub Discussions](https://github.com/vercel/next.js/discussions) where you can ask questions, voice ideas, and share your projects with other people.

To chat with other community members you can join the Next.js [Discord](https://nextjs.org/discord) server.

Do note that our [Code of Conduct](https://github.com/vercel/next.js/blob/canary/CODE_OF_CONDUCT.md) applies to all Next.js community channels. Users are **highly encouraged** to read and adhere to them to avoid repercussions.

Contributing
------------

[](https://github.com/vercel/next.js?screenshot=true#contributing)

Contributions to Next.js are welcome and highly appreciated. However, before you jump right into it, we would like you to review our [Contribution Guidelines](https://github.com/vercel/next.js/blob/canary/contributing.md) to make sure you have a smooth experience contributing to Next.js.

### Good First Issues:

[](https://github.com/vercel/next.js?screenshot=true#good-first-issues)

We have a list of **[good first issues](https://github.com/vercel/next.js/labels/good%20first%20issue)** that contain bugs that have a relatively limited scope. This is a great place for newcomers and beginners alike to get started, gain experience, and get familiar with our contribution process.

Authors
-------

[](https://github.com/vercel/next.js?screenshot=true#authors)

A list of the original co-authors of Next.js that helped bring this amazing framework to life!

*   Tim Neutkens ([@timneutkens](https://x.com/timneutkens))
*   Naoyuki Kanezawa ([@nkzawa](https://x.com/nkzawa))
*   Guillermo Rauch ([@rauchg](https://x.com/rauchg))
*   Arunoda Susiripala ([@arunoda](https://x.com/arunoda))
*   Tony Kovanen ([@tonykovanen](https://x.com/tonykovanen))
*   Dan Zajdband ([@impronunciable](https://x.com/impronunciable))

* * *

Security
--------

[](https://github.com/vercel/next.js?screenshot=true#security)

If you believe you have found a security vulnerability in Next.js, we encourage you to **_responsibly disclose this and NOT open a public issue_**. We will investigate all legitimate reports. Email `security@vercel.com` to disclose any security vulnerabilities. Alternatively, you can visit this [link](https://vercel.com/security) to know more about Vercel's security and report any security vulnerabilities.

About
-----

The React Framework

[nextjs.org](https://nextjs.org/ "https://nextjs.org")

### Topics

[react](https://github.com/topics/react "Topic: react") [blog](https://github.com/topics/blog "Topic: blog") [static-site-generator](https://github.com/topics/static-site-generator "Topic: static-site-generator") [components](https://github.com/topics/components "Topic: components") [node](https://github.com/topics/node "Topic: node") [browser](https://github.com/topics/browser "Topic: browser") [compiler](https://github.com/topics/compiler "Topic: compiler") [universal](https://github.com/topics/universal "Topic: universal") [nextjs](https://github.com/topics/nextjs "Topic: nextjs") [static](https://github.com/topics/static "Topic: static") [server-rendering](https://github.com/topics/server-rendering "Topic: server-rendering") [hybrid](https://github.com/topics/hybrid "Topic: hybrid") [ssg](https://github.com/topics/ssg "Topic: ssg") [vercel](https://github.com/topics/vercel "Topic: vercel")

### Resources

[Readme](https://github.com/vercel/next.js?screenshot=true#readme-ov-file)

### License

[MIT license](https://github.com/vercel/next.js?screenshot=true#MIT-1-ov-file)

### Code of conduct

[Code of conduct](https://github.com/vercel/next.js?screenshot=true#coc-ov-file)

### Security policy

[Security policy](https://github.com/vercel/next.js?screenshot=true#security-ov-file)

[Activity](https://github.com/vercel/next.js/activity)

[Custom properties](https://github.com/vercel/next.js/custom-properties)

### Stars

[**129k** stars](https://github.com/vercel/next.js/stargazers)

### Watchers

[**1.5k** watching](https://github.com/vercel/next.js/watchers)

### Forks

[**27.4k** forks](https://github.com/vercel/next.js/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js&report=vercel+%28user%29)

[Releases 2,878](https://github.com/vercel/next.js/releases)
------------------------------------------------------------

[v15.1.5 Latest Jan 17, 2025](https://github.com/vercel/next.js/releases/tag/v15.1.5)

[\+ 2,877 releases](https://github.com/vercel/next.js/releases)

[Used by 4m](https://github.com/vercel/next.js/network/dependents)
------------------------------------------------------------------

[* ![Image 35: @sachadvr](https://avatars.githubusercontent.com/u/82330787?s=64&v=4) * ![Image 36: @static-web-apps-testing-org](https://avatars.githubusercontent.com/u/96167003?s=64&v=4) * ![Image 37: @Ay-afk-stack](https://avatars.githubusercontent.com/u/181647503?s=64&v=4) * ![Image 38: @Jainex2](https://avatars.githubusercontent.com/u/127192581?s=64&v=4) * ![Image 39: @tracy659](https://avatars.githubusercontent.com/u/127444544?s=64&v=4) * ![Image 40: @Atimscreative](https://avatars.githubusercontent.com/u/100496754?s=64&v=4) * ![Image 41: @Jahid0178](https://avatars.githubusercontent.com/u/65838428?s=64&v=4) * ![Image 42: @RolandSamidu](https://avatars.githubusercontent.com/u/73852286?s=64&v=4) \+ 3,979,458](https://github.com/vercel/next.js/network/dependents)

[Contributors 3,534](https://github.com/vercel/next.js/graphs/contributors)
---------------------------------------------------------------------------

*   [![Image 43: @ijjk](https://avatars.githubusercontent.com/u/22380829?s=64&v=4)](https://github.com/ijjk)
*   [![Image 44: @timneutkens](https://avatars.githubusercontent.com/u/6324199?s=64&v=4)](https://github.com/timneutkens)
*   [![Image 45: @sokra](https://avatars.githubusercontent.com/u/1365881?s=64&v=4)](https://github.com/sokra)
*   [![Image 46: @Timer](https://avatars.githubusercontent.com/u/616428?s=64&v=4)](https://github.com/Timer)
*   [![Image 47: @vercel-release-bot](https://avatars.githubusercontent.com/u/88769842?s=64&v=4)](https://github.com/vercel-release-bot)
*   [![Image 48: @huozhi](https://avatars.githubusercontent.com/u/4800338?s=64&v=4)](https://github.com/huozhi)
*   [![Image 49: @styfle](https://avatars.githubusercontent.com/u/229881?s=64&v=4)](https://github.com/styfle)
*   [![Image 50: @shuding](https://avatars.githubusercontent.com/u/3676859?s=64&v=4)](https://github.com/shuding)
*   [![Image 51: @kdy1](https://avatars.githubusercontent.com/u/29931815?s=64&v=4)](https://github.com/kdy1)
*   [![Image 52: @ztanner](https://avatars.githubusercontent.com/u/1939140?s=64&v=4)](https://github.com/ztanner)
*   [![Image 53: @leerob](https://avatars.githubusercontent.com/u/9113740?s=64&v=4)](https://github.com/leerob)
*   [![Image 54: @balazsorban44](https://avatars.githubusercontent.com/u/18369201?s=64&v=4)](https://github.com/balazsorban44)
*   [![Image 55: @samcx](https://avatars.githubusercontent.com/u/28912696?s=64&v=4)](https://github.com/samcx)
*   [![Image 56: @wbinnssmith](https://avatars.githubusercontent.com/u/755844?s=64&v=4)](https://github.com/wbinnssmith)

[\+ 3,520 contributors](https://github.com/vercel/next.js/graphs/contributors)

Languages
---------

*   [JavaScript 59.2%](https://github.com/vercel/next.js/search?l=javascript)
*   [TypeScript 25.7%](https://github.com/vercel/next.js/search?l=typescript)
*   [Rust 14.0%](https://github.com/vercel/next.js/search?l=rust)
*   [MDX 0.6%](https://github.com/vercel/next.js/search?l=mdx)
*   [CSS 0.5%](https://github.com/vercel/next.js/search?l=css)
*   [Shell 0.0%](https://github.com/vercel/next.js/search?l=shell)

Footer
------

[](https://github.com/ "GitHub")© 2025 GitHub, Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can’t perform that action at this time.