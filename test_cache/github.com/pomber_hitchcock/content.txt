GitHub - pomber/hitchcock: The Master of Suspense üçø
===============
                                           

[Skip to content](https://github.com/pomber/hitchcock?screenshot=true#start-of-content)  

Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fpomber%2Fhitchcock%3Fscreenshot%3Dtrue)

*   Product
    
    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [Security Find and fix vulnerabilities](https://github.com/features/security)
    *   [Actions Automate any workflow](https://github.com/features/actions)
    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Code Review Manage code changes](https://github.com/features/code-review)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    *   [Code Search Find more, search less](https://github.com/features/code-search)
    
    Explore
    
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)
    *   [DevOps](https://github.com/solutions/use-case/devops)
    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)
    *   [View all use cases](https://github.com/solutions/use-case)
    
    By industry
    
    *   [Healthcare](https://github.com/solutions/industry/healthcare)
    *   [Financial services](https://github.com/solutions/industry/financial-services)
    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)
    *   [Government](https://github.com/solutions/industry/government)
    *   [View all industries](https://github.com/solutions/industry)
    
    [View all solutions](https://github.com/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    *   [View all](https://github.com/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [White papers, Ebooks, Webinars](https://resources.github.com/)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)
    
    *   [The ReadME Project GitHub community articles](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)
    
    Available add-ons
    
    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)
    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fpomber%2Fhitchcock%3Fscreenshot%3Dtrue)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=pomber%2Fhitchcock) Reseting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

{{ message }}

[pomber](https://github.com/pomber) / **[hitchcock](https://github.com/pomber/hitchcock)** Public

*   Sponsor
    
    Sponsor pomber/hitchcock
    ========================
    
    ##### GitHub Sponsors
    
    [Learn more about Sponsors](https://github.com/sponsors)
    
    [![Image 13: @pomber](https://avatars.githubusercontent.com/u/1911623?s=80&v=4)](https://github.com/pomber)
    
    [pomber](https://github.com/pomber)
    
    [pomber](https://github.com/pomber)
    
    [Sponsor](https://github.com/sponsors/pomber)
    
    ##### External links
    
    ![Image 14: patreon](https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg)
    
    [patreon.com/**pomber**](https://patreon.com/pomber)
    
    [https://www.paypal.me/pomber](https://www.paypal.me/pomber)
    
    [Learn more about funding links in repositories](https://docs.github.com/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/displaying-a-sponsor-button-in-your-repository).
    
    [Report abuse](https://github.com/contact/report-abuse?report=pomber%2Fhitchcock+%28Repository+Funding+Links%29)
    
*   [Notifications](https://github.com/login?return_to=%2Fpomber%2Fhitchcock) You must be signed in to change notification settings
*   [Fork 5](https://github.com/login?return_to=%2Fpomber%2Fhitchcock)
*   [Star 168](https://github.com/login?return_to=%2Fpomber%2Fhitchcock)
    

The Master of Suspense üçø

### License

[MIT license](https://github.com/pomber/hitchcock/blob/master/license)

[168 stars](https://github.com/pomber/hitchcock/stargazers) [5 forks](https://github.com/pomber/hitchcock/forks) [Branches](https://github.com/pomber/hitchcock/branches) [Tags](https://github.com/pomber/hitchcock/tags) [Activity](https://github.com/pomber/hitchcock/activity)

[Star](https://github.com/login?return_to=%2Fpomber%2Fhitchcock)

[Notifications](https://github.com/login?return_to=%2Fpomber%2Fhitchcock) You must be signed in to change notification settings

*   [Code](https://github.com/pomber/hitchcock)
*   [Issues 1](https://github.com/pomber/hitchcock/issues)
*   [Pull requests 0](https://github.com/pomber/hitchcock/pulls)
*   [Actions](https://github.com/pomber/hitchcock/actions)
*   [Security](https://github.com/pomber/hitchcock/security)
*   [Insights](https://github.com/pomber/hitchcock/pulse)

Additional navigation options

*   [Code](https://github.com/pomber/hitchcock)
*   [Issues](https://github.com/pomber/hitchcock/issues)
*   [Pull requests](https://github.com/pomber/hitchcock/pulls)
*   [Actions](https://github.com/pomber/hitchcock/actions)
*   [Security](https://github.com/pomber/hitchcock/security)
*   [Insights](https://github.com/pomber/hitchcock/pulse)

pomber/hitchcock
================

  

¬†master

[**1** Branch](https://github.com/pomber/hitchcock/branches)[**14** Tags](https://github.com/pomber/hitchcock/tags)

[](https://github.com/pomber/hitchcock/branches)[](https://github.com/pomber/hitchcock/tags)

Go to file

Code

Folders and files
-----------------

| Name | Name | 
Last commit message

 | 

Last commit date

 |
| --- | --- | --- | --- |
| 

Latest commit
-------------

[![Image 15: pomber](https://avatars.githubusercontent.com/u/1911623?v=4&size=40)](https://github.com/pomber)[pomber](https://github.com/pomber/hitchcock/commits?author=pomber)

[Merge pull request](https://github.com/pomber/hitchcock/commit/2aebe7346bba16ae1bec4f1a8b72caa231bf45d2) [#7](https://github.com/pomber/hitchcock/pull/7) [from pomber/experimental](https://github.com/pomber/hitchcock/commit/2aebe7346bba16ae1bec4f1a8b72caa231bf45d2)

Oct 27, 2019

[2aebe73](https://github.com/pomber/hitchcock/commit/2aebe7346bba16ae1bec4f1a8b72caa231bf45d2)¬†¬∑¬†Oct 27, 2019

History
-------

[86 Commits](https://github.com/pomber/hitchcock/commits/master/)

[](https://github.com/pomber/hitchcock/commits/master/)







 |
| 

[examples](https://github.com/pomber/hitchcock/tree/master/examples "examples")







 | 

[examples](https://github.com/pomber/hitchcock/tree/master/examples "examples")







 | 

[v0.5.0](https://github.com/pomber/hitchcock/commit/62d3da70ee2fe6dbcf1cd9643cb1eaa943bedd34 "v0.5.0")



 | 

Oct 27, 2019

 |
| 

[packages/hitchcock](https://github.com/pomber/hitchcock/tree/master/packages/hitchcock "This path skips through empty directories")







 | 

[packages/hitchcock](https://github.com/pomber/hitchcock/tree/master/packages/hitchcock "This path skips through empty directories")







 | 

[v0.5.0](https://github.com/pomber/hitchcock/commit/62d3da70ee2fe6dbcf1cd9643cb1eaa943bedd34 "v0.5.0")



 | 

Oct 27, 2019

 |
| 

[.gitignore](https://github.com/pomber/hitchcock/blob/master/.gitignore ".gitignore")







 | 

[.gitignore](https://github.com/pomber/hitchcock/blob/master/.gitignore ".gitignore")







 | 

[Migrate movies](https://github.com/pomber/hitchcock/commit/a6ddf35e7dfd0ca372d58e59c5f955fa8ed0e808 "Migrate movies")



 | 

Oct 26, 2019

 |
| 

[lerna.json](https://github.com/pomber/hitchcock/blob/master/lerna.json "lerna.json")







 | 

[lerna.json](https://github.com/pomber/hitchcock/blob/master/lerna.json "lerna.json")







 | 

[v0.5.0](https://github.com/pomber/hitchcock/commit/62d3da70ee2fe6dbcf1cd9643cb1eaa943bedd34 "v0.5.0")



 | 

Oct 27, 2019

 |
| 

[license](https://github.com/pomber/hitchcock/blob/master/license "license")







 | 

[license](https://github.com/pomber/hitchcock/blob/master/license "license")







 | 

[Push first ugly version](https://github.com/pomber/hitchcock/commit/e3a8f5681bacd1f6cb3c24a4a80e937c3fac4fb8 "Push first ugly version")



 | 

Apr 2, 2018

 |
| 

[netlify.toml](https://github.com/pomber/hitchcock/blob/master/netlify.toml "netlify.toml")







 | 

[netlify.toml](https://github.com/pomber/hitchcock/blob/master/netlify.toml "netlify.toml")







 | 

[Add netlify redirects](https://github.com/pomber/hitchcock/commit/42ee7796f43260f528a3943b2720935dfb786bb8 "Add netlify redirects")



 | 

Oct 31, 2018

 |
| 

[package.json](https://github.com/pomber/hitchcock/blob/master/package.json "package.json")







 | 

[package.json](https://github.com/pomber/hitchcock/blob/master/package.json "package.json")







 | 

[Add build:example](https://github.com/pomber/hitchcock/commit/068d3be3b94c5743b0970de6747138dce5c1c9b1 "Add build:example")



 | 

Oct 30, 2018

 |
| 

[readme.md](https://github.com/pomber/hitchcock/blob/master/readme.md "readme.md")







 | 

[readme.md](https://github.com/pomber/hitchcock/blob/master/readme.md "readme.md")







 | 

[Update readme](https://github.com/pomber/hitchcock/commit/8e99b4a9f2d4322612bae98be542248a5d069a23 "Update readme")



 | 

Oct 27, 2019

 |
| 

[yarn.lock](https://github.com/pomber/hitchcock/blob/master/yarn.lock "yarn.lock")







 | 

[yarn.lock](https://github.com/pomber/hitchcock/blob/master/yarn.lock "yarn.lock")







 | 

[Update emotion and draggable](https://github.com/pomber/hitchcock/commit/daaa964fb58a39a57df23bcb807e5ed35cf45619 "Update emotion and draggable")



 | 

Oct 27, 2019

 |
| 

View all files

 |

Repository files navigation
---------------------------

*   [README](https://github.com/pomber/hitchcock?screenshot=true#)
*   [MIT license](https://github.com/pomber/hitchcock?screenshot=true#)

> ‚ÄúThere is no terror in the bang, only in the anticipation of it.‚Äù
> 
> ‚Äî Alfred Hitchcock

 [![Image 16: Suspense Debugger](https://user-images.githubusercontent.com/1911623/38225137-d49061ea-36c9-11e8-8042-f3b7e17fb07b.gif)](https://hitchcock-movies.netlify.com/)[![Image 17: Suspense Debugger](https://user-images.githubusercontent.com/1911623/38225137-d49061ea-36c9-11e8-8042-f3b7e17fb07b.gif)](https://hitchcock-movies.netlify.com/)[](https://hitchcock-movies.netlify.com/)

Hitchcock [![Image 18: npm version](https://camo.githubusercontent.com/4b85db15e7168004bab86735b2888879ef7c73c82d1b2d93fb36ae1795ba1637/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f6869746368636f636b2e7376673f7374796c653d666c6174)](https://www.npmjs.com/package/hitchcock)
=============================================================================================================================================================================================================================================================================================

[](https://github.com/pomber/hitchcock?screenshot=true#hitchcock-)

**Hitchcock is a debugging tool for React Suspense.** It wraps your calls to `React.lazy()`, provides a simple cache ([based on react-cache](https://github.com/facebook/react/tree/master/packages/react-cache)) and let you pause, delay or invalidate your promises.

### üö® EXPERIMENTAL üö®

[](https://github.com/pomber/hitchcock?screenshot=true#-experimental-)

Use this only for experimenting with [the new React Concurrent Mode](https://reactjs.org/docs/concurrent-mode-intro.html). Hitchcock is inefficient and unstable. Also, I have no idea what I'm doing.

Demos
-----

[](https://github.com/pomber/hitchcock?screenshot=true#demos)

*   [**Movies**](https://hitchcock-movies.netlify.com/): A clone of [@karl clone](https://github.com/karl/react-async-io-testbed) of [@dan\_abramov demo](https://www.youtube.com/watch?v=6g3g0Q_XVb4)
*   [**Suspensify**](https://hitchcock-suspensify.netlify.com/): A clone of the [suspense demo](https://github.com/jaredpalmer/react-conf-2018) from [Jared Palmer](https://twitter.com/jaredpalmer)'s [React Conf talk](https://www.youtube.com/watch?v=SCQgE4mTnjU&feature=youtu.be).

The code is in the [examples folder](https://github.com/pomber/hitchcock/tree/master/examples).

Usage
-----

[](https://github.com/pomber/hitchcock?screenshot=true#usage)

> Try it on [CodeSandbox](https://codesandbox.io/s/ovqlz507pz)

Add the dependency:

```shell
$ yarn add hitchcock
```

### Director

[](https://github.com/pomber/hitchcock?screenshot=true#director)

Import the `Director` component and add it somewhere in your app:

```js
import { Director } from "hitchcock";

function YourApp() {
  return (
    <Director>
      <YourStuff />
    </Director>
  );
}
```

### Lazy

[](https://github.com/pomber/hitchcock?screenshot=true#lazy)

Instead of using `React.lazy` import `lazy` from hitchcock:

```js
import { lazy } from "hitchcock";

const HomePage = lazy(() => import("./components/HomePage"));

// Hitchcock's lazy accepts a second parameter with the name of the component:
const ArtistPage = lazy(() => import("./components/ArtistPage"), "ArtistPage");
// it's optional, but recommended, it isn't always easy to guess the name from the import
```

### createResource

[](https://github.com/pomber/hitchcock?screenshot=true#createresource)

```js
import { createResource } from "hitchcock";

const BeerResource = createResource(
  id =>
    fetch(`https://api.punkapi.com/v2/beers/${id}`)
      .then(r => r.json())
      .then(d => d[0]),
  id => `beer-${id}`
);

function Beer({ beerId }) {
  const beer = BeerResource.read(beerId);
  return (
    <>
      <h1>{beer.name}</h1>
      <p>{beer.description}</p>
    </>
  );
}
```

`createResource` has two parameters. The first one is a function that returns a promise. The second one is a function that returns an id, that id is used as the key in the cache and also is used as the name of the resource in the debugger.

It returns a `resource` with a `read` method that will suspend a component until the resource is ready (when the promise resolves).

### Waterfalls

[](https://github.com/pomber/hitchcock?screenshot=true#waterfalls)

[React docs warn about using Suspense as a way to start fetching data when a component renders](https://reactjs.org/docs/concurrent-mode-suspense.html#for-library-authors). The recommended approach is to start fetching before rendering, for example, in an event handler. Hitchcock doesn't solve this problem, but it provides a `preload` method if you want to try:

```js
import React, { Suspense } from "react";
import ReactDOM from "react-dom";
import { createResource, Director } from "hitchcock";

const BeerResource = createResource(
  id =>
    fetch(`https://api.punkapi.com/v2/beers/${id}`)
      .then(r => r.json())
      .then(d => d[0]),
  id => `beer-${id}`
);

function App() {
  const [beerId, setBeerId] = React.useState(0);
  const deferredBeerId = React.useDeferredValue(beerId, { timeoutMs: 1000 });

  const showBeer = deferredBeerId > 0;

  const handleChange = e => {
    const newBeerId = +e.target.value;
    BeerResource.preload(newBeerId);
    setBeerId(newBeerId);
  };

  return (
    <Director>
      Beer # <input type="number" value={beerId} onChange={handleChange} />
      <Suspense fallback={<div>{`Loading beer #${beerId}...`}</div>}>
        {showBeer && <Beer beerId={deferredBeerId} />}
      </Suspense>
    </Director>
  );
}

function Beer({ beerId }) {
  const beer = BeerResource.read(beerId);
  return (
    <>
      <h1>{beer.name}</h1>
      <p>{beer.description}</p>
    </>
  );
}

const container = document.getElementById("root");
ReactDOM.createRoot(container).render(<App />);
```

Contributing
------------

[](https://github.com/pomber/hitchcock?screenshot=true#contributing)

```shell
$ git clone git@github.com:pomber/hitchcock.git
$ cd hitchcock
$ npx lerna bootstrap
```

Run the examples:

```shell
$ yarn start:example movies
$ yarn start:example suspensify
```

Publish new version:

```shell
$ yarn build:packages
$ npx lerna publish
```

License
-------

[](https://github.com/pomber/hitchcock?screenshot=true#license)

Released under MIT license.

About
-----

The Master of Suspense üçø

### Topics

[react](https://github.com/topics/react "Topic: react") [debugger](https://github.com/topics/debugger "Topic: debugger") [component](https://github.com/topics/component "Topic: component") [async](https://github.com/topics/async "Topic: async") [cache](https://github.com/topics/cache "Topic: cache") [lazy](https://github.com/topics/lazy "Topic: lazy") [loader](https://github.com/topics/loader "Topic: loader") [debug](https://github.com/topics/debug "Topic: debug") [concurrent](https://github.com/topics/concurrent "Topic: concurrent") [dev-tools](https://github.com/topics/dev-tools "Topic: dev-tools") [suspense](https://github.com/topics/suspense "Topic: suspense") [react-cache](https://github.com/topics/react-cache "Topic: react-cache")

### Resources

[Readme](https://github.com/pomber/hitchcock?screenshot=true#readme-ov-file)

### License

[MIT license](https://github.com/pomber/hitchcock?screenshot=true#MIT-1-ov-file)

[Activity](https://github.com/pomber/hitchcock/activity)

### Stars

[**168** stars](https://github.com/pomber/hitchcock/stargazers)

### Watchers

[**7** watching](https://github.com/pomber/hitchcock/watchers)

### Forks

[**5** forks](https://github.com/pomber/hitchcock/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fpomber%2Fhitchcock&report=pomber+%28user%29)

[Releases](https://github.com/pomber/hitchcock/releases)
--------------------------------------------------------

[14 tags](https://github.com/pomber/hitchcock/tags)

Sponsor this project
--------------------

*    [![Image 19: @pomber](https://avatars.githubusercontent.com/u/1911623?s=64&v=4)](https://github.com/pomber)[**pomber** Rodrigo Pombo](https://github.com/pomber)[](https://github.com/sponsors/pomber)

*    ![Image 20: patreon](https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg)[patreon.com/**pomber**](https://patreon.com/pomber)
*   [https://www.paypal.me/pomber](https://www.paypal.me/pomber)

[Learn more about GitHub Sponsors](https://github.com/sponsors)

[Packages 0](https://github.com/users/pomber/packages?repo_name=hitchcock)
--------------------------------------------------------------------------

No packages published  

[Contributors 2](https://github.com/pomber/hitchcock/graphs/contributors)
-------------------------------------------------------------------------

*    [![Image 21: @pomber](https://avatars.githubusercontent.com/u/1911623?s=64&v=4)](https://github.com/pomber)[**pomber** Rodrigo Pombo](https://github.com/pomber)
*    [![Image 22: @mckernanin](https://avatars.githubusercontent.com/u/6300047?s=64&v=4)](https://github.com/mckernanin)[**mckernanin** Kevin McKernan](https://github.com/mckernanin)

Languages
---------

*   [JavaScript 100.0%](https://github.com/pomber/hitchcock/search?l=javascript)

Footer
------

[](https://github.com/ "GitHub")¬© 2025 GitHub,¬†Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can‚Äôt perform that action at this time.