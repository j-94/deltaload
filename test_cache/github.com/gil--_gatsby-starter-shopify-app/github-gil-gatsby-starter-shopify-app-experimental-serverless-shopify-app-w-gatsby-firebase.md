---
title: GitHub - gil--/gatsby-starter-shopify-app: [Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase
description: [Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase - gil--/gatsby-starter-shopify-app
url: https://github.com/gil--/gatsby-starter-shopify-app
timestamp: 2025-01-20T15:31:03.875Z
domain: github.com
path: gil--_gatsby-starter-shopify-app
---

# GitHub - gil--/gatsby-starter-shopify-app: [Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase


[Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase - gil--/gatsby-starter-shopify-app


## Content

GitHub - gil--/gatsby-starter-shopify-app: \[Experimental\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase
===============
                                           

[Skip to content](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#start-of-content)  

Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app%3Fscreenshot%3Dtrue)

*   Product
    
    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [Security Find and fix vulnerabilities](https://github.com/features/security)
    *   [Actions Automate any workflow](https://github.com/features/actions)
    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Code Review Manage code changes](https://github.com/features/code-review)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    *   [Code Search Find more, search less](https://github.com/features/code-search)
    
    Explore
    
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)
    *   [DevOps](https://github.com/solutions/use-case/devops)
    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)
    *   [View all use cases](https://github.com/solutions/use-case)
    
    By industry
    
    *   [Healthcare](https://github.com/solutions/industry/healthcare)
    *   [Financial services](https://github.com/solutions/industry/financial-services)
    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)
    *   [Government](https://github.com/solutions/industry/government)
    *   [View all industries](https://github.com/solutions/industry)
    
    [View all solutions](https://github.com/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    *   [View all](https://github.com/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [White papers, Ebooks, Webinars](https://resources.github.com/)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)
    
    *   [The ReadME Project GitHub community articles](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)
    
    Available add-ons
    
    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)
    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app%3Fscreenshot%3Dtrue)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=gil--%2Fgatsby-starter-shopify-app) Reseting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

{{ message }}

This repository has been archived by the owner on Nov 16, 2022. It is now read-only.

[gil--](https://github.com/gil--) / **[gatsby-starter-shopify-app](https://github.com/gil--/gatsby-starter-shopify-app)** Public archive

*   [Notifications](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app) You must be signed in to change notification settings
*   [Fork 19](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)
*   [Star 104](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)
    

\[Experimental\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase

[gatsby-starter-shopify-app.firebaseapp.com/install/](https://gatsby-starter-shopify-app.firebaseapp.com/install/ "https://gatsby-starter-shopify-app.firebaseapp.com/install/")

### License

[MIT license](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE)

[104 stars](https://github.com/gil--/gatsby-starter-shopify-app/stargazers) [19 forks](https://github.com/gil--/gatsby-starter-shopify-app/forks) [Branches](https://github.com/gil--/gatsby-starter-shopify-app/branches) [Tags](https://github.com/gil--/gatsby-starter-shopify-app/tags) [Activity](https://github.com/gil--/gatsby-starter-shopify-app/activity)

[Star](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)

[Notifications](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app) You must be signed in to change notification settings

*   [Code](https://github.com/gil--/gatsby-starter-shopify-app)
*   [Issues 9](https://github.com/gil--/gatsby-starter-shopify-app/issues)
*   [Pull requests 37](https://github.com/gil--/gatsby-starter-shopify-app/pulls)
*   [Actions](https://github.com/gil--/gatsby-starter-shopify-app/actions)
*   [Projects 0](https://github.com/gil--/gatsby-starter-shopify-app/projects)
*   [Security](https://github.com/gil--/gatsby-starter-shopify-app/security)
*   [Insights](https://github.com/gil--/gatsby-starter-shopify-app/pulse)

Additional navigation options

*   [Code](https://github.com/gil--/gatsby-starter-shopify-app)
*   [Issues](https://github.com/gil--/gatsby-starter-shopify-app/issues)
*   [Pull requests](https://github.com/gil--/gatsby-starter-shopify-app/pulls)
*   [Actions](https://github.com/gil--/gatsby-starter-shopify-app/actions)
*   [Projects](https://github.com/gil--/gatsby-starter-shopify-app/projects)
*   [Security](https://github.com/gil--/gatsby-starter-shopify-app/security)
*   [Insights](https://github.com/gil--/gatsby-starter-shopify-app/pulse)

gil--/gatsby-starter-shopify-app
================================

  

¬†master

[**38** Branches](https://github.com/gil--/gatsby-starter-shopify-app/branches)[**0** Tags](https://github.com/gil--/gatsby-starter-shopify-app/tags)

[](https://github.com/gil--/gatsby-starter-shopify-app/branches)[](https://github.com/gil--/gatsby-starter-shopify-app/tags)

Go to file

Code

Folders and files
-----------------

| Name | Name | 
Last commit message

 | 

Last commit date

 |
| --- | --- | --- | --- |
| 

Latest commit
-------------

![Image 4: author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=40)

Gil Greenberg

[Remove mising firebase client issue](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8)

Mar 31, 2019

[34f64d9](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8)¬†¬∑¬†Mar 31, 2019

History
-------

[101 Commits](https://github.com/gil--/gatsby-starter-shopify-app/commits/master/)

[](https://github.com/gil--/gatsby-starter-shopify-app/commits/master/)







 |
| 

[.circleci](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/.circleci ".circleci")







 | 

[.circleci](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/.circleci ".circleci")







 | 

[Add base circle ci config](https://github.com/gil--/gatsby-starter-shopify-app/commit/171b1652b1378775a47932919b07eb963a771ada "Add base circle ci config")



 | 

Feb 25, 2019

 |
| 

[functions](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/functions "functions")







 | 

[functions](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/functions "functions")







 | 

[Use official Node crypto](https://github.com/gil--/gatsby-starter-shopify-app/commit/4809a5a7d3e647a3cf81e991cf2c79698fc70715 "Use official Node crypto")



 | 

Mar 31, 2019

 |
| 

[src](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/src "src")







 | 

[src](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/src "src")







 | 

[Simplify markup](https://github.com/gil--/gatsby-starter-shopify-app/commit/128490359e6f01b80dba515717794cfbc2ba2d97 "Simplify markup")



 | 

Mar 31, 2019

 |
| 

[.env.sample](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.env.sample ".env.sample")







 | 

[.env.sample](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.env.sample ".env.sample")







 | 

[Add missing env variables to sample](https://github.com/gil--/gatsby-starter-shopify-app/commit/512f6e4b67c4f8b15e3ce7f3b807ec1e2a801209 "Add missing env variables to sample")



 | 

Mar 31, 2019

 |
| 

[.firebaserc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.firebaserc ".firebaserc")







 | 

[.firebaserc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.firebaserc ".firebaserc")







 | 

[Add Firebase Functions](https://github.com/gil--/gatsby-starter-shopify-app/commit/c622f8aa5f2d849cacc5d9d24e2732ba2a89c43b "Add Firebase Functions")



 | 

Feb 25, 2019

 |
| 

[.gitignore](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.gitignore ".gitignore")







 | 

[.gitignore](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.gitignore ".gitignore")







 | 

[Ignore firebase cache](https://github.com/gil--/gatsby-starter-shopify-app/commit/41269349abcb0450cb9e0898473d8905082f4a3c "Ignore firebase cache")



 | 

Mar 24, 2019

 |
| 

[.prettierrc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.prettierrc ".prettierrc")







 | 

[.prettierrc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.prettierrc ".prettierrc")







 | 

[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d "Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)



 | 

Feb 25, 2019

 |
| 

[LICENSE](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE "LICENSE")







 | 

[LICENSE](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE "LICENSE")







 | 

[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d "Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)



 | 

Feb 25, 2019

 |
| 

[README.md](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/README.md "README.md")







 | 

[README.md](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/README.md "README.md")







 | 

[Remove mising firebase client issue](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8 "Remove mising firebase client issue")



 | 

Mar 31, 2019

 |
| 

[firebase.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firebase.json "firebase.json")







 | 

[firebase.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firebase.json "firebase.json")







 | 

[Fix webhook urls and function names to be consistent](https://github.com/gil--/gatsby-starter-shopify-app/commit/f6df9f7b0b3e7e362f2ff993b306b6e26cbdfe76 "Fix webhook urls and function names to be consistent")



 | 

Mar 28, 2019

 |
| 

[firestore.rules](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firestore.rules "firestore.rules")







 | 

[firestore.rules](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firestore.rules "firestore.rules")







 | 

[Add firebase rules](https://github.com/gil--/gatsby-starter-shopify-app/commit/b69807903772e47b9f2f0a6b1567544fa068736b "Add firebase rules")



 | 

Mar 31, 2019

 |
| 

[gatsby-browser.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-browser.js "gatsby-browser.js")







 | 

[gatsby-browser.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-browser.js "gatsby-browser.js")







 | 

[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d "Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)



 | 

Feb 25, 2019

 |
| 

[gatsby-config.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-config.js "gatsby-config.js")







 | 

[gatsby-config.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-config.js "gatsby-config.js")







 | 

[Fix webhook urls and function names to be consistent](https://github.com/gil--/gatsby-starter-shopify-app/commit/f6df9f7b0b3e7e362f2ff993b306b6e26cbdfe76 "Fix webhook urls and function names to be consistent")



 | 

Mar 28, 2019

 |
| 

[gatsby-node.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-node.js "gatsby-node.js")







 | 

[gatsby-node.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-node.js "gatsby-node.js")







 | 

[Add Safari ITP cookie fix](https://github.com/gil--/gatsby-starter-shopify-app/commit/4c46f7d8217fc1dddadd281bb8e366f5f0417913 "Add Safari ITP cookie fix")



 | 

Mar 23, 2019

 |
| 

[gatsby-ssr.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-ssr.js "gatsby-ssr.js")







 | 

[gatsby-ssr.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-ssr.js "gatsby-ssr.js")







 | 

[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d "Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)



 | 

Feb 25, 2019

 |
| 

[package-lock.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package-lock.json "package-lock.json")







 | 

[package-lock.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package-lock.json "package-lock.json")







 | 

[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d "Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)



 | 

Feb 25, 2019

 |
| 

[package.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package.json "package.json")







 | 

[package.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package.json "package.json")







 | 

[Add start specific data to package.json](https://github.com/gil--/gatsby-starter-shopify-app/commit/17d2b4cfb85dcfcbc3a0e9126bb2f97198312a54 "Add start specific data to package.json")



 | 

Mar 28, 2019

 |
| 

[yarn.lock](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/yarn.lock "yarn.lock")







 | 

[yarn.lock](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/yarn.lock "yarn.lock")







 | 

[Install correct packages for Firebase on CircleCI](https://github.com/gil--/gatsby-starter-shopify-app/commit/3cf0e21c18cd343ea0b35c6a006523c195057268 "Install correct packages for Firebase on CircleCI
We don't need firebase-admin or firebase-functions for client-side code. Firebase-tools is needed for CircleCI")



 | 

Mar 24, 2019

 |
| 

View all files

 |

Repository files navigation
---------------------------

*   [README](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#)
*   [MIT license](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#)

Gatsby Starter Shopify App
==========================

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#gatsby-starter-shopify-app)

[![Image 5: CircleCI](https://camo.githubusercontent.com/80a4184f67f1ed71144ef12914f2f582726169c21498927e8edc109a5c5f1afd/68747470733a2f2f636972636c6563692e636f6d2f67682f67696c2d2d2f6761747362792d737461727465722d73686f706966792d6170702e7376673f7374796c653d737667)](https://circleci.com/gh/gil--/gatsby-starter-shopify-app)

### **[Try Demo](https://gatsby-starter-shopify-app.firebaseapp.com/install/)**

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#try-demo)

This Gatsby starter is a serverless Shopify app which runs using Firebase hosting and Firebase functions. It will allow for authenticated Shopify app access.

Note that Shopify Apps are meant to run within the Shopify Admin as a merchant facing experience. This is not a headless Shopify store experience.

> **Warning:** This app is not production ready. PRs are welcome as development continues towards a stable v1.0.0 release.

Features
--------

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#features)

*   üóÑFirebase Firestore Realtime DB
*   ‚ö°Ô∏èServerless Functions API layer (Firebase Functions)
*   üë©‚ÄçüíºAdmin API (Graphql) Serverless Proxy
*   üé® Shopify Polaris (AppProvider, etc.)
*   üí∞ Application Charge Logic (30 days) with variable trial duration
*   üì° Webhook Validation & Creation
*   üîë GDPR Ready (Including GDPR Webhooks)
*   üèó CircleCI Config for easy continuous deployments to Firebase

Setup
-----

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#setup)

1.  Run `yarn` or `npm install` to install all depdencies
2.  Install Firebase CLI globally `npm i -g firebase-cli`
3.  Login to Firebase `firebase login`.
4.  Create a new Firebase project from the [Firebase Console](https://console.firebase.google.com/).
5.  Create a new file called `.env.development` in the root of this project and navigate to the `General Settings` page and copy the **Project ID** into .env. Set this to `FIREBASE_PROJECT_ID=`:

```shell
FIREBASE_PROJECT_ID=example-project-id
```

6.  Register a new [Shopify App](https://partners.shopify.com/) in your Partners portal.
    
7.  Copy the API key and set it as _SHOPIFY\_APP\_API\_KEY_ in .env.development.
    
8.  Go to `https://console.firebase.google.com/project/{FIREBASE-APP-NAME-HERE}/settings/serviceaccounts/adminsdk` or Project Settings \> Service accounts. Now generate a new Firebase Admin SDK for Node.js and click the "Generate new private key". This will download a json file which we will use to authenticate to the Firebase Admin SDK from within our functions.
    
9.  Run `firebase login` to login and authenticate.
    
10.  Run `firebase init functions` and select the project you created in step 2.
    
11.  Add required local variables to Firebase config:
    

```shell
firebase functions:config:set \
fire.project_id="PLACEHOLDER" \
fire.client_email="PLACEHOLDER" \
fire.private_key="PLACEHOLDER" \
shopify.app_api_key="PLACEHOLDER" \
shopify.app_shared_secret="PLACEHOLDER" \
shopify.app_url="PLACEHOLDER" \
shopify.app_name_url="PLACEHOLDER" \
shopify.app_scopes="PLACEHOLDER"
```

> Note that app\_url should be along the lines of `https://{FIREBASE-APP-NAME-HERE}.firebaseapp.com`. For example (do not use this as it won't work):

```shell
firebase functions:config:set \
fire.app_project_id="PLACEHOLDER" \
fire.client_email="PLACEHOLDER" \
fire.private_key="PLACEHOLDER" \
shopify.app_api_key="13291e0f4f91f65b7e87634598a23cf9" \
shopify.app_shared_secret="ee24a5654348b3b5686d4ab5fb2199cf" \
shopify.app_url="http://azd2ze7c.ngrok.io" \
shopify.app_name_url="my-firebase-app" \
shopify.app_scopes="read_orders"
```

12.  To successfully use these env variables during local development, we need to download them to the `/functions` directory. To download, run: `cd ./functions && firebase functions:config:get>.runtimeconfig.json && cd ../`
    
13.  In the Firebase console `https://console.firebase.google.com`, select your project and navigate to Database where you'll create a **Firestore Database**. Add a root collection called shops and add a base document with the following attributes:
    

| Name | Type | Value |
| :-- | :-- | :-- |
| **Document Id** |  | shopify.myshopify.com |
|  |  |  |
| shop | string | shopify.myshopify.com |
| createdAt | timestamp |  |
| updatedAt | timestamp |  |

Note, because some of the Firebase functions such as /api/graphql and /callback make outside requests to Shopify API, you must use a non-free plan such as the "Pay-as-you-go" which includes the free plan tier. You will see an error in your Firebase functions logs saying _"Billing account not configured. External network is not accessible and quotas are severely limited. Configure billing account to remove these restriction."_

API Layer
---------

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#api-layer)

This Shopify App runs on Firebase serverless infrastructure using Firebase functions as the API layer. There are three main API routes:

| API URL | Purpose |
| :-- | :-- |
| **/auth** | Begins initial process to create Shopify Admin authentication keys |
| **/callback** | Create authentication keys, setups up or updates store information in Firestore, and creates billing subscription |
| **/api/activate-charge** | Active App Subscription Charge |
| **/api/graphql** | Proxies all Shopify admin API requests. Requires account with billing enabled. Note that Firebase functions does not allow external API requests on free accounts. As a result, you must add billing information to your Firebase account to successfully proxy the Shopify admin API. |

> We currently don't use the common _/api/\*\*/_ Firebase functions syntax with Express as I've found splitting the routes allows for easier debugging and clearer analytics. Cold starts have also gotten much better with Firebase functions which was one of the main drivers behind putting all API functions behind a common route.

Webhooks
--------

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#webhooks)

Webhook urls are prefix with `/webhook`.

| Webhook Topic | Route | Purpose |
| :-- | :-- | :-- |
| **app/uninstalled** | `/webhook/uninstall` | This gets called by the uninstall webhook |
| **[GDPR Specific](https://help.shopify.com/en/api/guides/gdpr-resources) Webhooks** |  |  |
| **customers/redact** | `/webhook/customer-redact` | Requests deletion of customer data |
| **customers/data\_request** | `/webhook/customers-data-request` | Requests to view stored customer data |
| **shop/redact** | `/webhook/shop-redact` | Requests deletion of shop data |

Shopify Configurations
----------------------

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#shopify-configurations)

### Access Mode

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#access-mode)

Shopify has two types of [access modes](https://help.shopify.com/en/api/getting-started/authentication/oauth/api-access-modes), _online access_ and _offline access_. You can read the official Shopify article for more information but it's important to note that this Shopify app is setup to use the online access token. This simply means that instead of a per-store access code, it's per store admin user. The main reasoning is that this app is serverless and as a result no server-side session logic resulting in the access token being store in the browser. Since the token can be easily revoked by the admin user and it expires in 24 hours, it's safer than using a long-lasting offline access token.

### API Scopes

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#api-scopes)

Whenever a merchant installs a Shopify app, they are presented with a permission screen asking to accept an app's request to access certain data such as orders, customers, and products. The app knows which permissions to accept through the `scopes` setting. This is set as the Firebase configuration value of `shopify.app_scopes`. Shopify has a [full list](https://help.shopify.com/en/api/getting-started/authentication/oauth/scopes) of API access scopes.

Bugs/Issues
-----------

[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#bugsissues)

*   Not _yet_ production ready
*   Missing Integration Tests
*   Missing better bug tracking/integration (BugSnag, Google StackDriver or equivalent)
*   Infrequent oauth issues such as Safari cookie redirect

About
-----

\[Experimental\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase

[gatsby-starter-shopify-app.firebaseapp.com/install/](https://gatsby-starter-shopify-app.firebaseapp.com/install/ "https://gatsby-starter-shopify-app.firebaseapp.com/install/")

### Topics

[gatsby](https://github.com/topics/gatsby "Topic: gatsby") [shopify-embedded-applications](https://github.com/topics/shopify-embedded-applications "Topic: shopify-embedded-applications") [shopify-polaris](https://github.com/topics/shopify-polaris "Topic: shopify-polaris") [gatsby-starter](https://github.com/topics/gatsby-starter "Topic: gatsby-starter") [shopify-app](https://github.com/topics/shopify-app "Topic: shopify-app")

### Resources

[Readme](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#readme-ov-file)

### License

[MIT license](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#MIT-1-ov-file)

[Activity](https://github.com/gil--/gatsby-starter-shopify-app/activity)

### Stars

[**104** stars](https://github.com/gil--/gatsby-starter-shopify-app/stargazers)

### Watchers

[**10** watching](https://github.com/gil--/gatsby-starter-shopify-app/watchers)

### Forks

[**19** forks](https://github.com/gil--/gatsby-starter-shopify-app/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app&report=gil--+%28user%29)

[Releases](https://github.com/gil--/gatsby-starter-shopify-app/releases)
------------------------------------------------------------------------

No releases published

[Packages 0](https://github.com/users/gil--/packages?repo_name=gatsby-starter-shopify-app)
------------------------------------------------------------------------------------------

No packages published  

Languages
---------

*   [JavaScript 100.0%](https://github.com/gil--/gatsby-starter-shopify-app/search?l=javascript)

Footer
------

[](https://github.com/ "GitHub")¬© 2025 GitHub,¬†Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can‚Äôt perform that action at this time.

## Metadata

```json
{
  "title": "GitHub - gil--/gatsby-starter-shopify-app: [Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase",
  "description": "[Experimental] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase - gil--/gatsby-starter-shopify-app",
  "url": "https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true",
  "content": "GitHub - gil--/gatsby-starter-shopify-app: \\[Experimental\\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase\n===============\n                                           \n\n[Skip to content](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#start-of-content)  \n\nNavigation Menu\n---------------\n\nToggle navigation\n\n[](https://github.com/)\n\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app%3Fscreenshot%3Dtrue)\n\n*   Product\n    \n    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)\n    *   [Security Find and fix vulnerabilities](https://github.com/features/security)\n    *   [Actions Automate any workflow](https://github.com/features/actions)\n    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)\n    *   [Issues Plan and track work](https://github.com/features/issues)\n    *   [Code Review Manage code changes](https://github.com/features/code-review)\n    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)\n    *   [Code Search Find more, search less](https://github.com/features/code-search)\n    \n    Explore\n    \n    *   [All features](https://github.com/features)\n    *   [Documentation](https://docs.github.com/)\n    *   [GitHub Skills](https://skills.github.com/)\n    *   [Blog](https://github.blog/)\n    \n*   Solutions\n    \n    By company size\n    \n    *   [Enterprises](https://github.com/enterprise)\n    *   [Small and medium teams](https://github.com/team)\n    *   [Startups](https://github.com/enterprise/startups)\n    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)\n    \n    By use case\n    \n    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)\n    *   [DevOps](https://github.com/solutions/use-case/devops)\n    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)\n    *   [View all use cases](https://github.com/solutions/use-case)\n    \n    By industry\n    \n    *   [Healthcare](https://github.com/solutions/industry/healthcare)\n    *   [Financial services](https://github.com/solutions/industry/financial-services)\n    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)\n    *   [Government](https://github.com/solutions/industry/government)\n    *   [View all industries](https://github.com/solutions/industry)\n    \n    [View all solutions](https://github.com/solutions)\n    \n*   Resources\n    \n    Topics\n    \n    *   [AI](https://github.com/resources/articles/ai)\n    *   [DevOps](https://github.com/resources/articles/devops)\n    *   [Security](https://github.com/resources/articles/security)\n    *   [Software Development](https://github.com/resources/articles/software-development)\n    *   [View all](https://github.com/resources/articles)\n    \n    Explore\n    \n    *   [Learning Pathways](https://resources.github.com/learn/pathways)\n    *   [White papers, Ebooks, Webinars](https://resources.github.com/)\n    *   [Customer Stories](https://github.com/customer-stories)\n    *   [Partners](https://partner.github.com/)\n    *   [Executive Insights](https://github.com/solutions/executive-insights)\n    \n*   Open Source\n    \n    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)\n    \n    *   [The ReadME Project GitHub community articles](https://github.com/readme)\n    \n    Repositories\n    \n    *   [Topics](https://github.com/topics)\n    *   [Trending](https://github.com/trending)\n    *   [Collections](https://github.com/collections)\n    \n*   Enterprise\n    \n    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)\n    \n    Available add-ons\n    \n    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)\n    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)\n    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)\n    \n*   [Pricing](https://github.com/pricing)\n\nSearch or jump to...\n\nSearch code, repositories, users, issues, pull requests...\n==========================================================\n\nSearch\n\nClear\n\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n\nProvide feedback\n================\n\nWe read every piece of feedback, and take your input very seriously.\n\n Include my email address so I can be contacted\n\nCancel Submit feedback\n\nSaved searches\n==============\n\nUse saved searches to filter your results more quickly\n------------------------------------------------------\n\nName  \n\nQuery \n\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\n\nCancel Create saved search\n\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app%3Fscreenshot%3Dtrue)\n\n[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=gil--%2Fgatsby-starter-shopify-app) Reseting focus\n\nYou signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert\n\n{{ message }}\n\nThis repository has been archived by the owner on Nov 16, 2022. It is now read-only.\n\n[gil--](https://github.com/gil--) / **[gatsby-starter-shopify-app](https://github.com/gil--/gatsby-starter-shopify-app)** Public archive\n\n*   [Notifications](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app) You must be signed in to change notification settings\n*   [Fork 19](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)\n*   [Star 104](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)\n    \n\n\\[Experimental\\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase\n\n[gatsby-starter-shopify-app.firebaseapp.com/install/](https://gatsby-starter-shopify-app.firebaseapp.com/install/ \"https://gatsby-starter-shopify-app.firebaseapp.com/install/\")\n\n### License\n\n[MIT license](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE)\n\n[104 stars](https://github.com/gil--/gatsby-starter-shopify-app/stargazers) [19 forks](https://github.com/gil--/gatsby-starter-shopify-app/forks) [Branches](https://github.com/gil--/gatsby-starter-shopify-app/branches) [Tags](https://github.com/gil--/gatsby-starter-shopify-app/tags) [Activity](https://github.com/gil--/gatsby-starter-shopify-app/activity)\n\n[Star](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app)\n\n[Notifications](https://github.com/login?return_to=%2Fgil--%2Fgatsby-starter-shopify-app) You must be signed in to change notification settings\n\n*   [Code](https://github.com/gil--/gatsby-starter-shopify-app)\n*   [Issues 9](https://github.com/gil--/gatsby-starter-shopify-app/issues)\n*   [Pull requests 37](https://github.com/gil--/gatsby-starter-shopify-app/pulls)\n*   [Actions](https://github.com/gil--/gatsby-starter-shopify-app/actions)\n*   [Projects 0](https://github.com/gil--/gatsby-starter-shopify-app/projects)\n*   [Security](https://github.com/gil--/gatsby-starter-shopify-app/security)\n*   [Insights](https://github.com/gil--/gatsby-starter-shopify-app/pulse)\n\nAdditional navigation options\n\n*   [Code](https://github.com/gil--/gatsby-starter-shopify-app)\n*   [Issues](https://github.com/gil--/gatsby-starter-shopify-app/issues)\n*   [Pull requests](https://github.com/gil--/gatsby-starter-shopify-app/pulls)\n*   [Actions](https://github.com/gil--/gatsby-starter-shopify-app/actions)\n*   [Projects](https://github.com/gil--/gatsby-starter-shopify-app/projects)\n*   [Security](https://github.com/gil--/gatsby-starter-shopify-app/security)\n*   [Insights](https://github.com/gil--/gatsby-starter-shopify-app/pulse)\n\ngil--/gatsby-starter-shopify-app\n================================\n\n  \n\n¬†master\n\n[**38** Branches](https://github.com/gil--/gatsby-starter-shopify-app/branches)[**0** Tags](https://github.com/gil--/gatsby-starter-shopify-app/tags)\n\n[](https://github.com/gil--/gatsby-starter-shopify-app/branches)[](https://github.com/gil--/gatsby-starter-shopify-app/tags)\n\nGo to file\n\nCode\n\nFolders and files\n-----------------\n\n| Name | Name | \nLast commit message\n\n | \n\nLast commit date\n\n |\n| --- | --- | --- | --- |\n| \n\nLatest commit\n-------------\n\n![Image 4: author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=40)\n\nGil Greenberg\n\n[Remove mising firebase client issue](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8)\n\nMar 31, 2019\n\n[34f64d9](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8)¬†¬∑¬†Mar 31, 2019\n\nHistory\n-------\n\n[101 Commits](https://github.com/gil--/gatsby-starter-shopify-app/commits/master/)\n\n[](https://github.com/gil--/gatsby-starter-shopify-app/commits/master/)\n\n\n\n\n\n\n\n |\n| \n\n[.circleci](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/.circleci \".circleci\")\n\n\n\n\n\n\n\n | \n\n[.circleci](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/.circleci \".circleci\")\n\n\n\n\n\n\n\n | \n\n[Add base circle ci config](https://github.com/gil--/gatsby-starter-shopify-app/commit/171b1652b1378775a47932919b07eb963a771ada \"Add base circle ci config\")\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[functions](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/functions \"functions\")\n\n\n\n\n\n\n\n | \n\n[functions](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/functions \"functions\")\n\n\n\n\n\n\n\n | \n\n[Use official Node crypto](https://github.com/gil--/gatsby-starter-shopify-app/commit/4809a5a7d3e647a3cf81e991cf2c79698fc70715 \"Use official Node crypto\")\n\n\n\n | \n\nMar 31, 2019\n\n |\n| \n\n[src](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/src \"src\")\n\n\n\n\n\n\n\n | \n\n[src](https://github.com/gil--/gatsby-starter-shopify-app/tree/master/src \"src\")\n\n\n\n\n\n\n\n | \n\n[Simplify markup](https://github.com/gil--/gatsby-starter-shopify-app/commit/128490359e6f01b80dba515717794cfbc2ba2d97 \"Simplify markup\")\n\n\n\n | \n\nMar 31, 2019\n\n |\n| \n\n[.env.sample](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.env.sample \".env.sample\")\n\n\n\n\n\n\n\n | \n\n[.env.sample](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.env.sample \".env.sample\")\n\n\n\n\n\n\n\n | \n\n[Add missing env variables to sample](https://github.com/gil--/gatsby-starter-shopify-app/commit/512f6e4b67c4f8b15e3ce7f3b807ec1e2a801209 \"Add missing env variables to sample\")\n\n\n\n | \n\nMar 31, 2019\n\n |\n| \n\n[.firebaserc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.firebaserc \".firebaserc\")\n\n\n\n\n\n\n\n | \n\n[.firebaserc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.firebaserc \".firebaserc\")\n\n\n\n\n\n\n\n | \n\n[Add Firebase Functions](https://github.com/gil--/gatsby-starter-shopify-app/commit/c622f8aa5f2d849cacc5d9d24e2732ba2a89c43b \"Add Firebase Functions\")\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[.gitignore](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.gitignore \".gitignore\")\n\n\n\n\n\n\n\n | \n\n[.gitignore](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.gitignore \".gitignore\")\n\n\n\n\n\n\n\n | \n\n[Ignore firebase cache](https://github.com/gil--/gatsby-starter-shopify-app/commit/41269349abcb0450cb9e0898473d8905082f4a3c \"Ignore firebase cache\")\n\n\n\n | \n\nMar 24, 2019\n\n |\n| \n\n[.prettierrc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.prettierrc \".prettierrc\")\n\n\n\n\n\n\n\n | \n\n[.prettierrc](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/.prettierrc \".prettierrc\")\n\n\n\n\n\n\n\n | \n\n[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d \"Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)\")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[LICENSE](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE \"LICENSE\")\n\n\n\n\n\n\n\n | \n\n[LICENSE](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/LICENSE \"LICENSE\")\n\n\n\n\n\n\n\n | \n\n[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d \"Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)\")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[README.md](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/README.md \"README.md\")\n\n\n\n\n\n\n\n | \n\n[README.md](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/README.md \"README.md\")\n\n\n\n\n\n\n\n | \n\n[Remove mising firebase client issue](https://github.com/gil--/gatsby-starter-shopify-app/commit/34f64d95ba69b9885d40a4d4503c14a152d516f8 \"Remove mising firebase client issue\")\n\n\n\n | \n\nMar 31, 2019\n\n |\n| \n\n[firebase.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firebase.json \"firebase.json\")\n\n\n\n\n\n\n\n | \n\n[firebase.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firebase.json \"firebase.json\")\n\n\n\n\n\n\n\n | \n\n[Fix webhook urls and function names to be consistent](https://github.com/gil--/gatsby-starter-shopify-app/commit/f6df9f7b0b3e7e362f2ff993b306b6e26cbdfe76 \"Fix webhook urls and function names to be consistent\")\n\n\n\n | \n\nMar 28, 2019\n\n |\n| \n\n[firestore.rules](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firestore.rules \"firestore.rules\")\n\n\n\n\n\n\n\n | \n\n[firestore.rules](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/firestore.rules \"firestore.rules\")\n\n\n\n\n\n\n\n | \n\n[Add firebase rules](https://github.com/gil--/gatsby-starter-shopify-app/commit/b69807903772e47b9f2f0a6b1567544fa068736b \"Add firebase rules\")\n\n\n\n | \n\nMar 31, 2019\n\n |\n| \n\n[gatsby-browser.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-browser.js \"gatsby-browser.js\")\n\n\n\n\n\n\n\n | \n\n[gatsby-browser.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-browser.js \"gatsby-browser.js\")\n\n\n\n\n\n\n\n | \n\n[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d \"Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)\")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[gatsby-config.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-config.js \"gatsby-config.js\")\n\n\n\n\n\n\n\n | \n\n[gatsby-config.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-config.js \"gatsby-config.js\")\n\n\n\n\n\n\n\n | \n\n[Fix webhook urls and function names to be consistent](https://github.com/gil--/gatsby-starter-shopify-app/commit/f6df9f7b0b3e7e362f2ff993b306b6e26cbdfe76 \"Fix webhook urls and function names to be consistent\")\n\n\n\n | \n\nMar 28, 2019\n\n |\n| \n\n[gatsby-node.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-node.js \"gatsby-node.js\")\n\n\n\n\n\n\n\n | \n\n[gatsby-node.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-node.js \"gatsby-node.js\")\n\n\n\n\n\n\n\n | \n\n[Add Safari ITP cookie fix](https://github.com/gil--/gatsby-starter-shopify-app/commit/4c46f7d8217fc1dddadd281bb8e366f5f0417913 \"Add Safari ITP cookie fix\")\n\n\n\n | \n\nMar 23, 2019\n\n |\n| \n\n[gatsby-ssr.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-ssr.js \"gatsby-ssr.js\")\n\n\n\n\n\n\n\n | \n\n[gatsby-ssr.js](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/gatsby-ssr.js \"gatsby-ssr.js\")\n\n\n\n\n\n\n\n | \n\n[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d \"Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)\")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[package-lock.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package-lock.json \"package-lock.json\")\n\n\n\n\n\n\n\n | \n\n[package-lock.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package-lock.json \"package-lock.json\")\n\n\n\n\n\n\n\n | \n\n[Initial commit from gatsby: (](https://github.com/gil--/gatsby-starter-shopify-app/commit/74e62fae89572b18c0e1d1296f63d27cdee8199d \"Initial commit from gatsby: (https://github.com/gatsbyjs/gatsby-starter-default.git)\")[https://github.com/gatsbyjs/gatsby-start‚Ä¶](https://github.com/gatsbyjs/gatsby-starter-default.git)\n\n\n\n | \n\nFeb 25, 2019\n\n |\n| \n\n[package.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package.json \"package.json\")\n\n\n\n\n\n\n\n | \n\n[package.json](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/package.json \"package.json\")\n\n\n\n\n\n\n\n | \n\n[Add start specific data to package.json](https://github.com/gil--/gatsby-starter-shopify-app/commit/17d2b4cfb85dcfcbc3a0e9126bb2f97198312a54 \"Add start specific data to package.json\")\n\n\n\n | \n\nMar 28, 2019\n\n |\n| \n\n[yarn.lock](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/yarn.lock \"yarn.lock\")\n\n\n\n\n\n\n\n | \n\n[yarn.lock](https://github.com/gil--/gatsby-starter-shopify-app/blob/master/yarn.lock \"yarn.lock\")\n\n\n\n\n\n\n\n | \n\n[Install correct packages for Firebase on CircleCI](https://github.com/gil--/gatsby-starter-shopify-app/commit/3cf0e21c18cd343ea0b35c6a006523c195057268 \"Install correct packages for Firebase on CircleCI\nWe don't need firebase-admin or firebase-functions for client-side code. Firebase-tools is needed for CircleCI\")\n\n\n\n | \n\nMar 24, 2019\n\n |\n| \n\nView all files\n\n |\n\nRepository files navigation\n---------------------------\n\n*   [README](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#)\n*   [MIT license](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#)\n\nGatsby Starter Shopify App\n==========================\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#gatsby-starter-shopify-app)\n\n[![Image 5: CircleCI](https://camo.githubusercontent.com/80a4184f67f1ed71144ef12914f2f582726169c21498927e8edc109a5c5f1afd/68747470733a2f2f636972636c6563692e636f6d2f67682f67696c2d2d2f6761747362792d737461727465722d73686f706966792d6170702e7376673f7374796c653d737667)](https://circleci.com/gh/gil--/gatsby-starter-shopify-app)\n\n### **[Try Demo](https://gatsby-starter-shopify-app.firebaseapp.com/install/)**\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#try-demo)\n\nThis Gatsby starter is a serverless Shopify app which runs using Firebase hosting and Firebase functions. It will allow for authenticated Shopify app access.\n\nNote that Shopify Apps are meant to run within the Shopify Admin as a merchant facing experience. This is not a headless Shopify store experience.\n\n> **Warning:** This app is not production ready. PRs are welcome as development continues towards a stable v1.0.0 release.\n\nFeatures\n--------\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#features)\n\n*   üóÑFirebase Firestore Realtime DB\n*   ‚ö°Ô∏èServerless Functions API layer (Firebase Functions)\n*   üë©‚ÄçüíºAdmin API (Graphql) Serverless Proxy\n*   üé® Shopify Polaris (AppProvider, etc.)\n*   üí∞ Application Charge Logic (30 days) with variable trial duration\n*   üì° Webhook Validation & Creation\n*   üîë GDPR Ready (Including GDPR Webhooks)\n*   üèó CircleCI Config for easy continuous deployments to Firebase\n\nSetup\n-----\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#setup)\n\n1.  Run `yarn` or `npm install` to install all depdencies\n2.  Install Firebase CLI globally `npm i -g firebase-cli`\n3.  Login to Firebase `firebase login`.\n4.  Create a new Firebase project from the [Firebase Console](https://console.firebase.google.com/).\n5.  Create a new file called `.env.development` in the root of this project and navigate to the `General Settings` page and copy the **Project ID** into .env. Set this to `FIREBASE_PROJECT_ID=`:\n\n```shell\nFIREBASE_PROJECT_ID=example-project-id\n```\n\n6.  Register a new [Shopify App](https://partners.shopify.com/) in your Partners portal.\n    \n7.  Copy the API key and set it as _SHOPIFY\\_APP\\_API\\_KEY_ in .env.development.\n    \n8.  Go to `https://console.firebase.google.com/project/{FIREBASE-APP-NAME-HERE}/settings/serviceaccounts/adminsdk` or Project Settings \\> Service accounts. Now generate a new Firebase Admin SDK for Node.js and click the \"Generate new private key\". This will download a json file which we will use to authenticate to the Firebase Admin SDK from within our functions.\n    \n9.  Run `firebase login` to login and authenticate.\n    \n10.  Run `firebase init functions` and select the project you created in step 2.\n    \n11.  Add required local variables to Firebase config:\n    \n\n```shell\nfirebase functions:config:set \\\nfire.project_id=\"PLACEHOLDER\" \\\nfire.client_email=\"PLACEHOLDER\" \\\nfire.private_key=\"PLACEHOLDER\" \\\nshopify.app_api_key=\"PLACEHOLDER\" \\\nshopify.app_shared_secret=\"PLACEHOLDER\" \\\nshopify.app_url=\"PLACEHOLDER\" \\\nshopify.app_name_url=\"PLACEHOLDER\" \\\nshopify.app_scopes=\"PLACEHOLDER\"\n```\n\n> Note that app\\_url should be along the lines of `https://{FIREBASE-APP-NAME-HERE}.firebaseapp.com`. For example (do not use this as it won't work):\n\n```shell\nfirebase functions:config:set \\\nfire.app_project_id=\"PLACEHOLDER\" \\\nfire.client_email=\"PLACEHOLDER\" \\\nfire.private_key=\"PLACEHOLDER\" \\\nshopify.app_api_key=\"13291e0f4f91f65b7e87634598a23cf9\" \\\nshopify.app_shared_secret=\"ee24a5654348b3b5686d4ab5fb2199cf\" \\\nshopify.app_url=\"http://azd2ze7c.ngrok.io\" \\\nshopify.app_name_url=\"my-firebase-app\" \\\nshopify.app_scopes=\"read_orders\"\n```\n\n12.  To successfully use these env variables during local development, we need to download them to the `/functions` directory. To download, run: `cd ./functions && firebase functions:config:get>.runtimeconfig.json && cd ../`\n    \n13.  In the Firebase console `https://console.firebase.google.com`, select your project and navigate to Database where you'll create a **Firestore Database**. Add a root collection called shops and add a base document with the following attributes:\n    \n\n| Name | Type | Value |\n| :-- | :-- | :-- |\n| **Document Id** |  | shopify.myshopify.com |\n|  |  |  |\n| shop | string | shopify.myshopify.com |\n| createdAt | timestamp |  |\n| updatedAt | timestamp |  |\n\nNote, because some of the Firebase functions such as /api/graphql and /callback make outside requests to Shopify API, you must use a non-free plan such as the \"Pay-as-you-go\" which includes the free plan tier. You will see an error in your Firebase functions logs saying _\"Billing account not configured. External network is not accessible and quotas are severely limited. Configure billing account to remove these restriction.\"_\n\nAPI Layer\n---------\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#api-layer)\n\nThis Shopify App runs on Firebase serverless infrastructure using Firebase functions as the API layer. There are three main API routes:\n\n| API URL | Purpose |\n| :-- | :-- |\n| **/auth** | Begins initial process to create Shopify Admin authentication keys |\n| **/callback** | Create authentication keys, setups up or updates store information in Firestore, and creates billing subscription |\n| **/api/activate-charge** | Active App Subscription Charge |\n| **/api/graphql** | Proxies all Shopify admin API requests. Requires account with billing enabled. Note that Firebase functions does not allow external API requests on free accounts. As a result, you must add billing information to your Firebase account to successfully proxy the Shopify admin API. |\n\n> We currently don't use the common _/api/\\*\\*/_ Firebase functions syntax with Express as I've found splitting the routes allows for easier debugging and clearer analytics. Cold starts have also gotten much better with Firebase functions which was one of the main drivers behind putting all API functions behind a common route.\n\nWebhooks\n--------\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#webhooks)\n\nWebhook urls are prefix with `/webhook`.\n\n| Webhook Topic | Route | Purpose |\n| :-- | :-- | :-- |\n| **app/uninstalled** | `/webhook/uninstall` | This gets called by the uninstall webhook |\n| **[GDPR Specific](https://help.shopify.com/en/api/guides/gdpr-resources) Webhooks** |  |  |\n| **customers/redact** | `/webhook/customer-redact` | Requests deletion of customer data |\n| **customers/data\\_request** | `/webhook/customers-data-request` | Requests to view stored customer data |\n| **shop/redact** | `/webhook/shop-redact` | Requests deletion of shop data |\n\nShopify Configurations\n----------------------\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#shopify-configurations)\n\n### Access Mode\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#access-mode)\n\nShopify has two types of [access modes](https://help.shopify.com/en/api/getting-started/authentication/oauth/api-access-modes), _online access_ and _offline access_. You can read the official Shopify article for more information but it's important to note that this Shopify app is setup to use the online access token. This simply means that instead of a per-store access code, it's per store admin user. The main reasoning is that this app is serverless and as a result no server-side session logic resulting in the access token being store in the browser. Since the token can be easily revoked by the admin user and it expires in 24 hours, it's safer than using a long-lasting offline access token.\n\n### API Scopes\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#api-scopes)\n\nWhenever a merchant installs a Shopify app, they are presented with a permission screen asking to accept an app's request to access certain data such as orders, customers, and products. The app knows which permissions to accept through the `scopes` setting. This is set as the Firebase configuration value of `shopify.app_scopes`. Shopify has a [full list](https://help.shopify.com/en/api/getting-started/authentication/oauth/scopes) of API access scopes.\n\nBugs/Issues\n-----------\n\n[](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#bugsissues)\n\n*   Not _yet_ production ready\n*   Missing Integration Tests\n*   Missing better bug tracking/integration (BugSnag, Google StackDriver or equivalent)\n*   Infrequent oauth issues such as Safari cookie redirect\n\nAbout\n-----\n\n\\[Experimental\\] ‚ö°Ô∏èüí∞üèóServerless Shopify App w/ Gatsby & Firebase\n\n[gatsby-starter-shopify-app.firebaseapp.com/install/](https://gatsby-starter-shopify-app.firebaseapp.com/install/ \"https://gatsby-starter-shopify-app.firebaseapp.com/install/\")\n\n### Topics\n\n[gatsby](https://github.com/topics/gatsby \"Topic: gatsby\") [shopify-embedded-applications](https://github.com/topics/shopify-embedded-applications \"Topic: shopify-embedded-applications\") [shopify-polaris](https://github.com/topics/shopify-polaris \"Topic: shopify-polaris\") [gatsby-starter](https://github.com/topics/gatsby-starter \"Topic: gatsby-starter\") [shopify-app](https://github.com/topics/shopify-app \"Topic: shopify-app\")\n\n### Resources\n\n[Readme](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#readme-ov-file)\n\n### License\n\n[MIT license](https://github.com/gil--/gatsby-starter-shopify-app?screenshot=true#MIT-1-ov-file)\n\n[Activity](https://github.com/gil--/gatsby-starter-shopify-app/activity)\n\n### Stars\n\n[**104** stars](https://github.com/gil--/gatsby-starter-shopify-app/stargazers)\n\n### Watchers\n\n[**10** watching](https://github.com/gil--/gatsby-starter-shopify-app/watchers)\n\n### Forks\n\n[**19** forks](https://github.com/gil--/gatsby-starter-shopify-app/forks)\n\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fgil--%2Fgatsby-starter-shopify-app&report=gil--+%28user%29)\n\n[Releases](https://github.com/gil--/gatsby-starter-shopify-app/releases)\n------------------------------------------------------------------------\n\nNo releases published\n\n[Packages 0](https://github.com/users/gil--/packages?repo_name=gatsby-starter-shopify-app)\n------------------------------------------------------------------------------------------\n\nNo packages published  \n\nLanguages\n---------\n\n*   [JavaScript 100.0%](https://github.com/gil--/gatsby-starter-shopify-app/search?l=javascript)\n\nFooter\n------\n\n[](https://github.com/ \"GitHub\")¬© 2025 GitHub,¬†Inc.\n\n### Footer navigation\n\n*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n*   [Security](https://github.com/security)\n*   [Status](https://www.githubstatus.com/)\n*   [Docs](https://docs.github.com/)\n*   [Contact](https://support.github.com/?tags=dotcom-footer)\n*   Manage cookies\n*   Do not share my personal information\n\nYou can‚Äôt perform that action at this time.",
  "usage": {
    "tokens": 7750
  }
}
```
