---
title: GitHub - karpathy/arxiv-sanity-preserver: Web interface for browsing, search and filtering recent arxiv submissions
description: Web interface for browsing, search and filtering recent arxiv submissions - karpathy/arxiv-sanity-preserver
url: https://github.com/karpathy/arxiv-sanity-preserver
timestamp: 2025-01-20T15:30:16.238Z
domain: github.com
path: karpathy_arxiv-sanity-preserver
---

# GitHub - karpathy/arxiv-sanity-preserver: Web interface for browsing, search and filtering recent arxiv submissions


Web interface for browsing, search and filtering recent arxiv submissions - karpathy/arxiv-sanity-preserver


## Content

GitHub - karpathy/arxiv-sanity-preserver: Web interface for browsing, search and filtering recent arxiv submissions
===============
                                           

[Skip to content](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#start-of-content)  

Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver%3Fscreenshot%3Dtrue)

*   Product
    
    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [Security Find and fix vulnerabilities](https://github.com/features/security)
    *   [Actions Automate any workflow](https://github.com/features/actions)
    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Code Review Manage code changes](https://github.com/features/code-review)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    *   [Code Search Find more, search less](https://github.com/features/code-search)
    
    Explore
    
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)
    
*   Solutions
    
    By company size
    
    *   [Enterprises](https://github.com/enterprise)
    *   [Small and medium teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)
    
    By use case
    
    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)
    *   [DevOps](https://github.com/solutions/use-case/devops)
    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)
    *   [View all use cases](https://github.com/solutions/use-case)
    
    By industry
    
    *   [Healthcare](https://github.com/solutions/industry/healthcare)
    *   [Financial services](https://github.com/solutions/industry/financial-services)
    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)
    *   [Government](https://github.com/solutions/industry/government)
    *   [View all industries](https://github.com/solutions/industry)
    
    [View all solutions](https://github.com/solutions)
    
*   Resources
    
    Topics
    
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    *   [View all](https://github.com/resources/articles)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [White papers, Ebooks, Webinars](https://resources.github.com/)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    *   [Executive Insights](https://github.com/solutions/executive-insights)
    
*   Open Source
    
    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)
    
    *   [The ReadME Project GitHub community articles](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)
    
    Available add-ons
    
    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)
    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver%3Fscreenshot%3Dtrue)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=karpathy%2Farxiv-sanity-preserver) Reseting focus

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

{{ message }}

[karpathy](https://github.com/karpathy) / **[arxiv-sanity-preserver](https://github.com/karpathy/arxiv-sanity-preserver)** Public

*   [Notifications](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver) You must be signed in to change notification settings
*   [Fork 1.3k](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)
*   [Star 5.2k](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)
    

Web interface for browsing, search and filtering recent arxiv submissions

[www.arxiv-sanity.com/](http://www.arxiv-sanity.com/ "http://www.arxiv-sanity.com/")

### License

[MIT license](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md)

[5.2k stars](https://github.com/karpathy/arxiv-sanity-preserver/stargazers) [1.3k forks](https://github.com/karpathy/arxiv-sanity-preserver/forks) [Branches](https://github.com/karpathy/arxiv-sanity-preserver/branches) [Tags](https://github.com/karpathy/arxiv-sanity-preserver/tags) [Activity](https://github.com/karpathy/arxiv-sanity-preserver/activity)

[Star](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)

[Notifications](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver) You must be signed in to change notification settings

*   [Code](https://github.com/karpathy/arxiv-sanity-preserver)
*   [Issues 68](https://github.com/karpathy/arxiv-sanity-preserver/issues)
*   [Pull requests 19](https://github.com/karpathy/arxiv-sanity-preserver/pulls)
*   [Actions](https://github.com/karpathy/arxiv-sanity-preserver/actions)
*   [Projects 0](https://github.com/karpathy/arxiv-sanity-preserver/projects)
*   [Wiki](https://github.com/karpathy/arxiv-sanity-preserver/wiki)
*   [Security](https://github.com/karpathy/arxiv-sanity-preserver/security)
*   [Insights](https://github.com/karpathy/arxiv-sanity-preserver/pulse)

Additional navigation options

*   [Code](https://github.com/karpathy/arxiv-sanity-preserver)
*   [Issues](https://github.com/karpathy/arxiv-sanity-preserver/issues)
*   [Pull requests](https://github.com/karpathy/arxiv-sanity-preserver/pulls)
*   [Actions](https://github.com/karpathy/arxiv-sanity-preserver/actions)
*   [Projects](https://github.com/karpathy/arxiv-sanity-preserver/projects)
*   [Wiki](https://github.com/karpathy/arxiv-sanity-preserver/wiki)
*   [Security](https://github.com/karpathy/arxiv-sanity-preserver/security)
*   [Insights](https://github.com/karpathy/arxiv-sanity-preserver/pulse)

karpathy/arxiv-sanity-preserver
===============================

  

 master

[**4** Branches](https://github.com/karpathy/arxiv-sanity-preserver/branches)[**0** Tags](https://github.com/karpathy/arxiv-sanity-preserver/tags)

[](https://github.com/karpathy/arxiv-sanity-preserver/branches)[](https://github.com/karpathy/arxiv-sanity-preserver/tags)

Go to file

Code

Folders and files
-----------------

| Name | Name | 
Last commit message

 | 

Last commit date

 |
| --- | --- | --- | --- |
| 

Latest commit
-------------

[![Image 18: karpathy](https://avatars.githubusercontent.com/u/241138?v=4&size=40)](https://github.com/karpathy)[karpathy](https://github.com/karpathy/arxiv-sanity-preserver/commits?author=karpathy)

[Update README.md](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b)

Nov 27, 2021

[17b2c28](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b) · Nov 27, 2021

History
-------

[211 Commits](https://github.com/karpathy/arxiv-sanity-preserver/commits/master/)

[](https://github.com/karpathy/arxiv-sanity-preserver/commits/master/)







 |
| 

[static](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/static "static")







 | 

[static](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/static "static")







 | 

[changing the tab selection scheme to make more sense, thank you](https://github.com/karpathy/arxiv-sanity-preserver/commit/4a2b7db6a0ed16b0740de0aaf0170fbeca331358 "changing the tab selection scheme to make more sense, thank you @chrisfischer for pointing out") [@chri…](https://github.com/chrisfischer)



 | 

Oct 28, 2018

 |
| 

[templates](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/templates "templates")







 | 

[templates](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/templates "templates")







 | 

[oops fix a silly closure bug.](https://github.com/karpathy/arxiv-sanity-preserver/commit/1682975ccca50f1a0582c806aacd07266f689061 "oops fix a silly closure bug.")



 | 

Jun 16, 2017

 |
| 

[.gitignore](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/.gitignore ".gitignore")







 | 

[.gitignore](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/.gitignore ".gitignore")







 | 

[fix twitter requirements and ignore twitter.txt](https://github.com/karpathy/arxiv-sanity-preserver/commit/a85f88f413c224bd921dbe65dc0fad0932d7bfbe "fix twitter requirements and ignore twitter.txt")



 | 

Feb 13, 2017

 |
| 

[LICENSE.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md "LICENSE.md")







 | 

[LICENSE.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md "LICENSE.md")







 | 

[Adding License File;](https://github.com/karpathy/arxiv-sanity-preserver/commit/809016498e49f255a91f015d415235a8a08907c4 "Adding License File;
(1) Primary author of the project is Andrej Karpathy;
(2) Modifications have not been attributed (yet);")



 | 

Sep 20, 2016

 |
| 

[README.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/README.md "README.md")







 | 

[README.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/README.md "README.md")







 | 

[Update README.md](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b "Update README.md
Add mention of the new and improved arxiv-sanity-lite")



 | 

Nov 27, 2021

 |
| 

[analyze.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/analyze.py "analyze.py")







 | 

[analyze.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/analyze.py "analyze.py")







 | 

[add beginning for money as a feature. arxiv-sanity does quite heavy c…](https://github.com/karpathy/arxiv-sanity-preserver/commit/59711e0695c012d47ded038ce3f8bfb2e4ec13bb "add beginning for money as a feature. arxiv-sanity does quite heavy compute for recommendations and requires fairly expensive cloud solutions with a lot of GB of RAM etc.")



 | 

Jun 14, 2017

 |
| 

[buildsvm.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/buildsvm.py "buildsvm.py")







 | 

[buildsvm.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/buildsvm.py "buildsvm.py")







 | 

[store in float32 instead of float64 works okay and half memory](https://github.com/karpathy/arxiv-sanity-preserver/commit/99f55f78f8f025c1999162c44cc3c5e4af3c7cb7 "store in float32 instead of float64 works okay and half memory")



 | 

Apr 25, 2019

 |
| 

[download\_pdfs.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/download_pdfs.py "download_pdfs.py")







 | 

[download\_pdfs.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/download_pdfs.py "download_pdfs.py")







 | 

[small tweaks to pdf download script](https://github.com/karpathy/arxiv-sanity-preserver/commit/bcd5b2fd532c067cc99bdfbd6ce7f0839e28abaa "small tweaks to pdf download script")



 | 

Feb 7, 2017

 |
| 

[fetch\_papers.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/fetch_papers.py "fetch_papers.py")







 | 

[fetch\_papers.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/fetch_papers.py "fetch_papers.py")







 | 

[Use local URL variable instead of the global one](https://github.com/karpathy/arxiv-sanity-preserver/commit/6ea68b90279ea00b354bb6982918e5415292c887 "Use local URL variable instead of the global one")



 | 

Mar 27, 2017

 |
| 

[make\_cache.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/make_cache.py "make_cache.py")







 | 

[make\_cache.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/make_cache.py "make_cache.py")







 | 

[create a make\_cache to make the server restart faster](https://github.com/karpathy/arxiv-sanity-preserver/commit/7d5030b2eefb2c21e0791181c640684dc691dcad "create a make_cache to make the server restart faster")



 | 

Feb 9, 2017

 |
| 

[parse\_pdf\_to\_text.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/parse_pdf_to_text.py "parse_pdf_to_text.py")







 | 

[parse\_pdf\_to\_text.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/parse_pdf_to_text.py "parse_pdf_to_text.py")







 | 

[update the parse pdf scripts a bit](https://github.com/karpathy/arxiv-sanity-preserver/commit/2a7efb44127e5f5f18a87485975e162e5c4ddcd1 "update the parse pdf scripts a bit")



 | 

Feb 7, 2017

 |
| 

[requirements.txt](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/requirements.txt "requirements.txt")







 | 

[requirements.txt](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/requirements.txt "requirements.txt")







 | 

[Missing dependency: pymongo](https://github.com/karpathy/arxiv-sanity-preserver/commit/cc580526dd67a459872ed9f2d5fc9d0d28201e50 "Missing dependency: pymongo")



 | 

May 24, 2017

 |
| 

[schema.sql](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/schema.sql "schema.sql")







 | 

[schema.sql](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/schema.sql "schema.sql")







 | 

[big update: adding user accounts and support for saving items to pers…](https://github.com/karpathy/arxiv-sanity-preserver/commit/0f1529d1fb1244ae2488d65e113762c835b4e565 "big update: adding user accounts and support for saving items to personal library")



 | 

Feb 24, 2016

 |
| 

[serve.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/serve.py "serve.py")







 | 

[serve.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/serve.py "serve.py")







 | 

[complete implementation of friend following and a new tab of friends.…](https://github.com/karpathy/arxiv-sanity-preserver/commit/b0eccba7c1b08cb3e773aa3526932c4def7b5594 "complete implementation of friend following and a new tab of friends. woot")



 | 

Jun 15, 2017

 |
| 

[thumb\_pdf.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/thumb_pdf.py "thumb_pdf.py")







 | 

[thumb\_pdf.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/thumb_pdf.py "thumb_pdf.py")







 | 

[convert thumb\_pdf too, to use utils.Config](https://github.com/karpathy/arxiv-sanity-preserver/commit/1f99cce96de9b564707bafab1c331481d9745323 "convert thumb_pdf too, to use utils.Config")



 | 

Feb 7, 2017

 |
| 

[twitter\_daemon.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/twitter_daemon.py "twitter_daemon.py")







 | 

[twitter\_daemon.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/twitter_daemon.py "twitter_daemon.py")







 | 

[add tweet count](https://github.com/karpathy/arxiv-sanity-preserver/commit/8e52b8ba59bfb5684f19d485d18faf4b7fba64a6 "add tweet count")



 | 

Mar 4, 2017

 |
| 

[ui.jpeg](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/ui.jpeg "ui.jpeg")







 | 

[ui.jpeg](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/ui.jpeg "ui.jpeg")







 | 

[updating readme](https://github.com/karpathy/arxiv-sanity-preserver/commit/b23242a26519f8426b63f99e61e8a5a27a6eacbb "updating readme")



 | 

Feb 27, 2016

 |
| 

[utils.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/utils.py "utils.py")







 | 

[utils.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/utils.py "utils.py")







 | 

[Variable file is not defined -\> Rename to f](https://github.com/karpathy/arxiv-sanity-preserver/commit/dd4ae7eac55ebf198e1dc0cf459600e3eeb323f8 "Variable file is not defined -> Rename to f")



 | 

Oct 8, 2017

 |
| 

View all files

 |

Repository files navigation
---------------------------

*   [README](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#)
*   [MIT license](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#)

arxiv sanity preserver
======================

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#arxiv-sanity-preserver)

**Update Nov 27, 2021**: you may wish to look at my from-scratch re-write of arxiv-sanity: [arxiv-sanity-lite](https://github.com/karpathy/arxiv-sanity-lite). It is a smaller version of arxiv-sanity that focuses on the core value proposition, is significantly less likely to ever go down, scales better, and has a few additional goodies such as multiple possible tags per account, regular emails of new papers of interest, etc. It is also running live on [arxiv-sanity-lite.com](https://arxiv-sanity-lite.com/).

This project is a web interface that attempts to tame the overwhelming flood of papers on Arxiv. It allows researchers to keep track of recent papers, search for papers, sort papers by similarity to any paper, see recent popular papers, to add papers to a personal library, and to get personalized recommendations of (new or old) Arxiv papers. This code is currently running live at [www.arxiv-sanity.com/](http://www.arxiv-sanity.com/), where it's serving 25,000+ Arxiv papers from Machine Learning (cs.\[CV|AI|CL|LG|NE\]/stat.ML) over the last ~3 years. With this code base you could replicate the website to any of your favorite subsets of Arxiv by simply changing the categories in `fetch_papers.py`.

[![Image 19: user interface](https://camo.githubusercontent.com/9a623b88bfcaf8a61caa9156f7df67a79148cf481c011d2b83a3c144d8881455/68747470733a2f2f7261772e6769746875622e636f6d2f6b617270617468792f61727869762d73616e6974792d7072657365727665722f6d61737465722f75692e6a706567)](https://camo.githubusercontent.com/9a623b88bfcaf8a61caa9156f7df67a79148cf481c011d2b83a3c144d8881455/68747470733a2f2f7261772e6769746875622e636f6d2f6b617270617468792f61727869762d73616e6974792d7072657365727665722f6d61737465722f75692e6a706567)

### Code layout

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#code-layout)

There are two large parts of the code:

**Indexing code**. Uses Arxiv API to download the most recent papers in any categories you like, and then downloads all papers, extracts all text, creates tfidf vectors based on the content of each paper. This code is therefore concerned with the backend scraping and computation: building up a database of arxiv papers, calculating content vectors, creating thumbnails, computing SVMs for people, etc.

**User interface**. Then there is a web server (based on Flask/Tornado/sqlite) that allows searching through the database and filtering papers by similarity, etc.

### Dependencies

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#dependencies)

Several: You will need numpy, feedparser (to process xml files), scikit learn (for tfidf vectorizer, training of SVM), flask (for serving the results), flask\_limiter, and tornado (if you want to run the flask server in production). Also dateutil, and scipy. And sqlite3 for database (accounts, library support, etc.). Most of these are easy to get through `pip`, e.g.:

```shell
$ virtualenv env                # optional: use virtualenv
$ source env/bin/activate       # optional: use virtualenv
$ pip install -r requirements.txt
```

You will also need [ImageMagick](http://www.imagemagick.org/script/index.php) and [pdftotext](https://poppler.freedesktop.org/), which you can install on Ubuntu as `sudo apt-get install imagemagick poppler-utils`. Bleh, that's a lot of dependencies isn't it.

### Processing pipeline

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#processing-pipeline)

The processing pipeline requires you to run a series of scripts, and at this stage I really encourage you to manually inspect each script, as they may contain various inline settings you might want to change. In order, the processing pipeline is:

1.  Run `fetch_papers.py` to query arxiv API and create a file `db.p` that contains all information for each paper. This script is where you would modify the **query**, indicating which parts of arxiv you'd like to use. Note that if you're trying to pull too many papers arxiv will start to rate limit you. You may have to run the script multiple times, and I recommend using the arg `--start-index` to restart where you left off when you were last interrupted by arxiv.
2.  Run `download_pdfs.py`, which iterates over all papers in parsed pickle and downloads the papers into folder `pdf`
3.  Run `parse_pdf_to_text.py` to export all text from pdfs to files in `txt`
4.  Run `thumb_pdf.py` to export thumbnails of all pdfs to `thumb`
5.  Run `analyze.py` to compute tfidf vectors for all documents based on bigrams. Saves a `tfidf.p`, `tfidf_meta.p` and `sim_dict.p` pickle files.
6.  Run `buildsvm.py` to train SVMs for all users (if any), exports a pickle `user_sim.p`
7.  Run `make_cache.py` for various preprocessing so that server starts faster (and make sure to run `sqlite3 as.db < schema.sql` if this is the very first time ever you're starting arxiv-sanity, which initializes an empty database).
8.  Start the mongodb daemon in the background. Mongodb can be installed by following the instructions here - [https://docs.mongodb.com/tutorials/install-mongodb-on-ubuntu/](https://docs.mongodb.com/tutorials/install-mongodb-on-ubuntu/).

*   Start the mongodb server with - `sudo service mongod start`.
*   Verify if the server is running in the background : The last line of /var/log/mongodb/mongod.log file must be - `[initandlisten] waiting for connections on port <port> `

9.  Run the flask server with `serve.py`. Visit localhost:5000 and enjoy sane viewing of papers!

Optionally you can also run the `twitter_daemon.py` in a screen session, which uses your Twitter API credentials (stored in `twitter.txt`) to query Twitter periodically looking for mentions of papers in the database, and writes the results to the pickle file `twitter.p`.

I have a simple shell script that runs these commands one by one, and every day I run this script to fetch new papers, incorporate them into the database, and recompute all tfidf vectors/classifiers. More details on this process below.

**protip: numpy/BLAS**: The script `analyze.py` does quite a lot of heavy lifting with numpy. I recommend that you carefully set up your numpy to use BLAS (e.g. OpenBLAS), otherwise the computations will take a long time. With ~25,000 papers and ~5000 users the script runs in several hours on my current machine with a BLAS-linked numpy.

### Running online

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#running-online)

If you'd like to run the flask server online (e.g. AWS) run it as `python serve.py --prod`.

You also want to create a `secret_key.txt` file and fill it with random text (see top of `serve.py`).

### Current workflow

[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#current-workflow)

Running the site live is not currently set up for a fully automatic plug and play operation. Instead it's a bit of a manual process and I thought I should document how I'm keeping this code alive right now. I have a script that performs the following update early morning after arxiv papers come out (~midnight PST):

```shell
python fetch_papers.py
python download_pdfs.py
python parse_pdf_to_text.py
python thumb_pdf.py
python analyze.py
python buildsvm.py
python make_cache.py
```

I run the server in a screen session, so `screen -S serve` to create it (or `-r` to reattach to it) and run:

```shell
python serve.py --prod --port 80
```

The server will load the new files and begin hosting the site. Note that on some systems you can't use port 80 without `sudo`. Your two options are to use `iptables` to reroute ports or you can use [setcap](http://stackoverflow.com/questions/413807/is-there-a-way-for-non-root-processes-to-bind-to-privileged-ports-1024-on-l) to elavate the permissions of your `python` interpreter that runs `serve.py`. In this case I'd recommend careful permissions and maybe virtualenv, etc.

About
-----

Web interface for browsing, search and filtering recent arxiv submissions

[www.arxiv-sanity.com/](http://www.arxiv-sanity.com/ "http://www.arxiv-sanity.com/")

### Resources

[Readme](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#readme-ov-file)

### License

[MIT license](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#MIT-1-ov-file)

[Activity](https://github.com/karpathy/arxiv-sanity-preserver/activity)

### Stars

[**5.2k** stars](https://github.com/karpathy/arxiv-sanity-preserver/stargazers)

### Watchers

[**169** watching](https://github.com/karpathy/arxiv-sanity-preserver/watchers)

### Forks

[**1.3k** forks](https://github.com/karpathy/arxiv-sanity-preserver/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver&report=karpathy+%28user%29)

[Releases](https://github.com/karpathy/arxiv-sanity-preserver/releases)
-----------------------------------------------------------------------

No releases published

[Packages 0](https://github.com/users/karpathy/packages?repo_name=arxiv-sanity-preserver)
-----------------------------------------------------------------------------------------

No packages published  

[Contributors 21](https://github.com/karpathy/arxiv-sanity-preserver/graphs/contributors)
-----------------------------------------------------------------------------------------

*   [![Image 20: @karpathy](https://avatars.githubusercontent.com/u/241138?s=64&v=4)](https://github.com/karpathy)
*   [![Image 21: @ecprice](https://avatars.githubusercontent.com/u/140334?s=64&v=4)](https://github.com/ecprice)
*   [![Image 22: @Moredread](https://avatars.githubusercontent.com/u/100848?s=64&v=4)](https://github.com/Moredread)
*   [![Image 23: @gokceneraslan](https://avatars.githubusercontent.com/u/1140359?s=64&v=4)](https://github.com/gokceneraslan)
*   [![Image 24: @eddotman](https://avatars.githubusercontent.com/u/1232389?s=64&v=4)](https://github.com/eddotman)
*   [![Image 25: @hans](https://avatars.githubusercontent.com/u/6968?s=64&v=4)](https://github.com/hans)
*   [![Image 26: @lucidrains](https://avatars.githubusercontent.com/u/108653?s=64&v=4)](https://github.com/lucidrains)
*   [![Image 27: @cwgreene](https://avatars.githubusercontent.com/u/135558?s=64&v=4)](https://github.com/cwgreene)
*   [![Image 28: @matttrent](https://avatars.githubusercontent.com/u/155373?s=64&v=4)](https://github.com/matttrent)
*   [![Image 29: @naturegirl](https://avatars.githubusercontent.com/u/744929?s=64&v=4)](https://github.com/naturegirl)
*   [![Image 30: @mlaneuville](https://avatars.githubusercontent.com/u/854946?s=64&v=4)](https://github.com/mlaneuville)
*   [![Image 31: @tricao](https://avatars.githubusercontent.com/u/934355?s=64&v=4)](https://github.com/tricao)
*   [![Image 32: @carlini](https://avatars.githubusercontent.com/u/1269300?s=64&v=4)](https://github.com/carlini)
*   [![Image 33: @MartinThoma](https://avatars.githubusercontent.com/u/1658117?s=64&v=4)](https://github.com/MartinThoma)

[\+ 7 contributors](https://github.com/karpathy/arxiv-sanity-preserver/graphs/contributors)

Languages
---------

*   [Python 54.4%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=python)
*   [HTML 28.2%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=html)
*   [JavaScript 9.8%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=javascript)
*   [CSS 7.6%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=css)

Footer
------

[](https://github.com/ "GitHub")© 2025 GitHub, Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can’t perform that action at this time.

## Metadata

```json
{
  "title": "GitHub - karpathy/arxiv-sanity-preserver: Web interface for browsing, search and filtering recent arxiv submissions",
  "description": "Web interface for browsing, search and filtering recent arxiv submissions - karpathy/arxiv-sanity-preserver",
  "url": "https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true",
  "content": "GitHub - karpathy/arxiv-sanity-preserver: Web interface for browsing, search and filtering recent arxiv submissions\n===============\n                                           \n\n[Skip to content](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#start-of-content)  \n\nNavigation Menu\n---------------\n\nToggle navigation\n\n[](https://github.com/)\n\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver%3Fscreenshot%3Dtrue)\n\n*   Product\n    \n    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)\n    *   [Security Find and fix vulnerabilities](https://github.com/features/security)\n    *   [Actions Automate any workflow](https://github.com/features/actions)\n    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)\n    *   [Issues Plan and track work](https://github.com/features/issues)\n    *   [Code Review Manage code changes](https://github.com/features/code-review)\n    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)\n    *   [Code Search Find more, search less](https://github.com/features/code-search)\n    \n    Explore\n    \n    *   [All features](https://github.com/features)\n    *   [Documentation](https://docs.github.com/)\n    *   [GitHub Skills](https://skills.github.com/)\n    *   [Blog](https://github.blog/)\n    \n*   Solutions\n    \n    By company size\n    \n    *   [Enterprises](https://github.com/enterprise)\n    *   [Small and medium teams](https://github.com/team)\n    *   [Startups](https://github.com/enterprise/startups)\n    *   [Nonprofits](https://github.com/solutions/industry/nonprofits)\n    \n    By use case\n    \n    *   [DevSecOps](https://github.com/solutions/use-case/devsecops)\n    *   [DevOps](https://github.com/solutions/use-case/devops)\n    *   [CI/CD](https://github.com/solutions/use-case/ci-cd)\n    *   [View all use cases](https://github.com/solutions/use-case)\n    \n    By industry\n    \n    *   [Healthcare](https://github.com/solutions/industry/healthcare)\n    *   [Financial services](https://github.com/solutions/industry/financial-services)\n    *   [Manufacturing](https://github.com/solutions/industry/manufacturing)\n    *   [Government](https://github.com/solutions/industry/government)\n    *   [View all industries](https://github.com/solutions/industry)\n    \n    [View all solutions](https://github.com/solutions)\n    \n*   Resources\n    \n    Topics\n    \n    *   [AI](https://github.com/resources/articles/ai)\n    *   [DevOps](https://github.com/resources/articles/devops)\n    *   [Security](https://github.com/resources/articles/security)\n    *   [Software Development](https://github.com/resources/articles/software-development)\n    *   [View all](https://github.com/resources/articles)\n    \n    Explore\n    \n    *   [Learning Pathways](https://resources.github.com/learn/pathways)\n    *   [White papers, Ebooks, Webinars](https://resources.github.com/)\n    *   [Customer Stories](https://github.com/customer-stories)\n    *   [Partners](https://partner.github.com/)\n    *   [Executive Insights](https://github.com/solutions/executive-insights)\n    \n*   Open Source\n    \n    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)\n    \n    *   [The ReadME Project GitHub community articles](https://github.com/readme)\n    \n    Repositories\n    \n    *   [Topics](https://github.com/topics)\n    *   [Trending](https://github.com/trending)\n    *   [Collections](https://github.com/collections)\n    \n*   Enterprise\n    \n    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)\n    \n    Available add-ons\n    \n    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)\n    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)\n    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)\n    \n*   [Pricing](https://github.com/pricing)\n\nSearch or jump to...\n\nSearch code, repositories, users, issues, pull requests...\n==========================================================\n\nSearch\n\nClear\n\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n\nProvide feedback\n================\n\nWe read every piece of feedback, and take your input very seriously.\n\n Include my email address so I can be contacted\n\nCancel Submit feedback\n\nSaved searches\n==============\n\nUse saved searches to filter your results more quickly\n------------------------------------------------------\n\nName  \n\nQuery \n\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\n\nCancel Create saved search\n\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver%3Fscreenshot%3Dtrue)\n\n[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=karpathy%2Farxiv-sanity-preserver) Reseting focus\n\nYou signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert\n\n{{ message }}\n\n[karpathy](https://github.com/karpathy) / **[arxiv-sanity-preserver](https://github.com/karpathy/arxiv-sanity-preserver)** Public\n\n*   [Notifications](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver) You must be signed in to change notification settings\n*   [Fork 1.3k](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)\n*   [Star 5.2k](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)\n    \n\nWeb interface for browsing, search and filtering recent arxiv submissions\n\n[www.arxiv-sanity.com/](http://www.arxiv-sanity.com/ \"http://www.arxiv-sanity.com/\")\n\n### License\n\n[MIT license](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md)\n\n[5.2k stars](https://github.com/karpathy/arxiv-sanity-preserver/stargazers) [1.3k forks](https://github.com/karpathy/arxiv-sanity-preserver/forks) [Branches](https://github.com/karpathy/arxiv-sanity-preserver/branches) [Tags](https://github.com/karpathy/arxiv-sanity-preserver/tags) [Activity](https://github.com/karpathy/arxiv-sanity-preserver/activity)\n\n[Star](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver)\n\n[Notifications](https://github.com/login?return_to=%2Fkarpathy%2Farxiv-sanity-preserver) You must be signed in to change notification settings\n\n*   [Code](https://github.com/karpathy/arxiv-sanity-preserver)\n*   [Issues 68](https://github.com/karpathy/arxiv-sanity-preserver/issues)\n*   [Pull requests 19](https://github.com/karpathy/arxiv-sanity-preserver/pulls)\n*   [Actions](https://github.com/karpathy/arxiv-sanity-preserver/actions)\n*   [Projects 0](https://github.com/karpathy/arxiv-sanity-preserver/projects)\n*   [Wiki](https://github.com/karpathy/arxiv-sanity-preserver/wiki)\n*   [Security](https://github.com/karpathy/arxiv-sanity-preserver/security)\n*   [Insights](https://github.com/karpathy/arxiv-sanity-preserver/pulse)\n\nAdditional navigation options\n\n*   [Code](https://github.com/karpathy/arxiv-sanity-preserver)\n*   [Issues](https://github.com/karpathy/arxiv-sanity-preserver/issues)\n*   [Pull requests](https://github.com/karpathy/arxiv-sanity-preserver/pulls)\n*   [Actions](https://github.com/karpathy/arxiv-sanity-preserver/actions)\n*   [Projects](https://github.com/karpathy/arxiv-sanity-preserver/projects)\n*   [Wiki](https://github.com/karpathy/arxiv-sanity-preserver/wiki)\n*   [Security](https://github.com/karpathy/arxiv-sanity-preserver/security)\n*   [Insights](https://github.com/karpathy/arxiv-sanity-preserver/pulse)\n\nkarpathy/arxiv-sanity-preserver\n===============================\n\n  \n\n master\n\n[**4** Branches](https://github.com/karpathy/arxiv-sanity-preserver/branches)[**0** Tags](https://github.com/karpathy/arxiv-sanity-preserver/tags)\n\n[](https://github.com/karpathy/arxiv-sanity-preserver/branches)[](https://github.com/karpathy/arxiv-sanity-preserver/tags)\n\nGo to file\n\nCode\n\nFolders and files\n-----------------\n\n| Name | Name | \nLast commit message\n\n | \n\nLast commit date\n\n |\n| --- | --- | --- | --- |\n| \n\nLatest commit\n-------------\n\n[![Image 18: karpathy](https://avatars.githubusercontent.com/u/241138?v=4&size=40)](https://github.com/karpathy)[karpathy](https://github.com/karpathy/arxiv-sanity-preserver/commits?author=karpathy)\n\n[Update README.md](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b)\n\nNov 27, 2021\n\n[17b2c28](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b) · Nov 27, 2021\n\nHistory\n-------\n\n[211 Commits](https://github.com/karpathy/arxiv-sanity-preserver/commits/master/)\n\n[](https://github.com/karpathy/arxiv-sanity-preserver/commits/master/)\n\n\n\n\n\n\n\n |\n| \n\n[static](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/static \"static\")\n\n\n\n\n\n\n\n | \n\n[static](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/static \"static\")\n\n\n\n\n\n\n\n | \n\n[changing the tab selection scheme to make more sense, thank you](https://github.com/karpathy/arxiv-sanity-preserver/commit/4a2b7db6a0ed16b0740de0aaf0170fbeca331358 \"changing the tab selection scheme to make more sense, thank you @chrisfischer for pointing out\") [@chri…](https://github.com/chrisfischer)\n\n\n\n | \n\nOct 28, 2018\n\n |\n| \n\n[templates](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/templates \"templates\")\n\n\n\n\n\n\n\n | \n\n[templates](https://github.com/karpathy/arxiv-sanity-preserver/tree/master/templates \"templates\")\n\n\n\n\n\n\n\n | \n\n[oops fix a silly closure bug.](https://github.com/karpathy/arxiv-sanity-preserver/commit/1682975ccca50f1a0582c806aacd07266f689061 \"oops fix a silly closure bug.\")\n\n\n\n | \n\nJun 16, 2017\n\n |\n| \n\n[.gitignore](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/.gitignore \".gitignore\")\n\n\n\n\n\n\n\n | \n\n[.gitignore](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/.gitignore \".gitignore\")\n\n\n\n\n\n\n\n | \n\n[fix twitter requirements and ignore twitter.txt](https://github.com/karpathy/arxiv-sanity-preserver/commit/a85f88f413c224bd921dbe65dc0fad0932d7bfbe \"fix twitter requirements and ignore twitter.txt\")\n\n\n\n | \n\nFeb 13, 2017\n\n |\n| \n\n[LICENSE.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md \"LICENSE.md\")\n\n\n\n\n\n\n\n | \n\n[LICENSE.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/LICENSE.md \"LICENSE.md\")\n\n\n\n\n\n\n\n | \n\n[Adding License File;](https://github.com/karpathy/arxiv-sanity-preserver/commit/809016498e49f255a91f015d415235a8a08907c4 \"Adding License File;\n(1) Primary author of the project is Andrej Karpathy;\n(2) Modifications have not been attributed (yet);\")\n\n\n\n | \n\nSep 20, 2016\n\n |\n| \n\n[README.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/README.md \"README.md\")\n\n\n\n\n\n\n\n | \n\n[README.md](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/README.md \"README.md\")\n\n\n\n\n\n\n\n | \n\n[Update README.md](https://github.com/karpathy/arxiv-sanity-preserver/commit/17b2c281b55574135bda9b9710e4706dee6d652b \"Update README.md\nAdd mention of the new and improved arxiv-sanity-lite\")\n\n\n\n | \n\nNov 27, 2021\n\n |\n| \n\n[analyze.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/analyze.py \"analyze.py\")\n\n\n\n\n\n\n\n | \n\n[analyze.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/analyze.py \"analyze.py\")\n\n\n\n\n\n\n\n | \n\n[add beginning for money as a feature. arxiv-sanity does quite heavy c…](https://github.com/karpathy/arxiv-sanity-preserver/commit/59711e0695c012d47ded038ce3f8bfb2e4ec13bb \"add beginning for money as a feature. arxiv-sanity does quite heavy compute for recommendations and requires fairly expensive cloud solutions with a lot of GB of RAM etc.\")\n\n\n\n | \n\nJun 14, 2017\n\n |\n| \n\n[buildsvm.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/buildsvm.py \"buildsvm.py\")\n\n\n\n\n\n\n\n | \n\n[buildsvm.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/buildsvm.py \"buildsvm.py\")\n\n\n\n\n\n\n\n | \n\n[store in float32 instead of float64 works okay and half memory](https://github.com/karpathy/arxiv-sanity-preserver/commit/99f55f78f8f025c1999162c44cc3c5e4af3c7cb7 \"store in float32 instead of float64 works okay and half memory\")\n\n\n\n | \n\nApr 25, 2019\n\n |\n| \n\n[download\\_pdfs.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/download_pdfs.py \"download_pdfs.py\")\n\n\n\n\n\n\n\n | \n\n[download\\_pdfs.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/download_pdfs.py \"download_pdfs.py\")\n\n\n\n\n\n\n\n | \n\n[small tweaks to pdf download script](https://github.com/karpathy/arxiv-sanity-preserver/commit/bcd5b2fd532c067cc99bdfbd6ce7f0839e28abaa \"small tweaks to pdf download script\")\n\n\n\n | \n\nFeb 7, 2017\n\n |\n| \n\n[fetch\\_papers.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/fetch_papers.py \"fetch_papers.py\")\n\n\n\n\n\n\n\n | \n\n[fetch\\_papers.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/fetch_papers.py \"fetch_papers.py\")\n\n\n\n\n\n\n\n | \n\n[Use local URL variable instead of the global one](https://github.com/karpathy/arxiv-sanity-preserver/commit/6ea68b90279ea00b354bb6982918e5415292c887 \"Use local URL variable instead of the global one\")\n\n\n\n | \n\nMar 27, 2017\n\n |\n| \n\n[make\\_cache.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/make_cache.py \"make_cache.py\")\n\n\n\n\n\n\n\n | \n\n[make\\_cache.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/make_cache.py \"make_cache.py\")\n\n\n\n\n\n\n\n | \n\n[create a make\\_cache to make the server restart faster](https://github.com/karpathy/arxiv-sanity-preserver/commit/7d5030b2eefb2c21e0791181c640684dc691dcad \"create a make_cache to make the server restart faster\")\n\n\n\n | \n\nFeb 9, 2017\n\n |\n| \n\n[parse\\_pdf\\_to\\_text.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/parse_pdf_to_text.py \"parse_pdf_to_text.py\")\n\n\n\n\n\n\n\n | \n\n[parse\\_pdf\\_to\\_text.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/parse_pdf_to_text.py \"parse_pdf_to_text.py\")\n\n\n\n\n\n\n\n | \n\n[update the parse pdf scripts a bit](https://github.com/karpathy/arxiv-sanity-preserver/commit/2a7efb44127e5f5f18a87485975e162e5c4ddcd1 \"update the parse pdf scripts a bit\")\n\n\n\n | \n\nFeb 7, 2017\n\n |\n| \n\n[requirements.txt](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/requirements.txt \"requirements.txt\")\n\n\n\n\n\n\n\n | \n\n[requirements.txt](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/requirements.txt \"requirements.txt\")\n\n\n\n\n\n\n\n | \n\n[Missing dependency: pymongo](https://github.com/karpathy/arxiv-sanity-preserver/commit/cc580526dd67a459872ed9f2d5fc9d0d28201e50 \"Missing dependency: pymongo\")\n\n\n\n | \n\nMay 24, 2017\n\n |\n| \n\n[schema.sql](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/schema.sql \"schema.sql\")\n\n\n\n\n\n\n\n | \n\n[schema.sql](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/schema.sql \"schema.sql\")\n\n\n\n\n\n\n\n | \n\n[big update: adding user accounts and support for saving items to pers…](https://github.com/karpathy/arxiv-sanity-preserver/commit/0f1529d1fb1244ae2488d65e113762c835b4e565 \"big update: adding user accounts and support for saving items to personal library\")\n\n\n\n | \n\nFeb 24, 2016\n\n |\n| \n\n[serve.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/serve.py \"serve.py\")\n\n\n\n\n\n\n\n | \n\n[serve.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/serve.py \"serve.py\")\n\n\n\n\n\n\n\n | \n\n[complete implementation of friend following and a new tab of friends.…](https://github.com/karpathy/arxiv-sanity-preserver/commit/b0eccba7c1b08cb3e773aa3526932c4def7b5594 \"complete implementation of friend following and a new tab of friends. woot\")\n\n\n\n | \n\nJun 15, 2017\n\n |\n| \n\n[thumb\\_pdf.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/thumb_pdf.py \"thumb_pdf.py\")\n\n\n\n\n\n\n\n | \n\n[thumb\\_pdf.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/thumb_pdf.py \"thumb_pdf.py\")\n\n\n\n\n\n\n\n | \n\n[convert thumb\\_pdf too, to use utils.Config](https://github.com/karpathy/arxiv-sanity-preserver/commit/1f99cce96de9b564707bafab1c331481d9745323 \"convert thumb_pdf too, to use utils.Config\")\n\n\n\n | \n\nFeb 7, 2017\n\n |\n| \n\n[twitter\\_daemon.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/twitter_daemon.py \"twitter_daemon.py\")\n\n\n\n\n\n\n\n | \n\n[twitter\\_daemon.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/twitter_daemon.py \"twitter_daemon.py\")\n\n\n\n\n\n\n\n | \n\n[add tweet count](https://github.com/karpathy/arxiv-sanity-preserver/commit/8e52b8ba59bfb5684f19d485d18faf4b7fba64a6 \"add tweet count\")\n\n\n\n | \n\nMar 4, 2017\n\n |\n| \n\n[ui.jpeg](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/ui.jpeg \"ui.jpeg\")\n\n\n\n\n\n\n\n | \n\n[ui.jpeg](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/ui.jpeg \"ui.jpeg\")\n\n\n\n\n\n\n\n | \n\n[updating readme](https://github.com/karpathy/arxiv-sanity-preserver/commit/b23242a26519f8426b63f99e61e8a5a27a6eacbb \"updating readme\")\n\n\n\n | \n\nFeb 27, 2016\n\n |\n| \n\n[utils.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/utils.py \"utils.py\")\n\n\n\n\n\n\n\n | \n\n[utils.py](https://github.com/karpathy/arxiv-sanity-preserver/blob/master/utils.py \"utils.py\")\n\n\n\n\n\n\n\n | \n\n[Variable file is not defined -\\> Rename to f](https://github.com/karpathy/arxiv-sanity-preserver/commit/dd4ae7eac55ebf198e1dc0cf459600e3eeb323f8 \"Variable file is not defined -> Rename to f\")\n\n\n\n | \n\nOct 8, 2017\n\n |\n| \n\nView all files\n\n |\n\nRepository files navigation\n---------------------------\n\n*   [README](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#)\n*   [MIT license](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#)\n\narxiv sanity preserver\n======================\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#arxiv-sanity-preserver)\n\n**Update Nov 27, 2021**: you may wish to look at my from-scratch re-write of arxiv-sanity: [arxiv-sanity-lite](https://github.com/karpathy/arxiv-sanity-lite). It is a smaller version of arxiv-sanity that focuses on the core value proposition, is significantly less likely to ever go down, scales better, and has a few additional goodies such as multiple possible tags per account, regular emails of new papers of interest, etc. It is also running live on [arxiv-sanity-lite.com](https://arxiv-sanity-lite.com/).\n\nThis project is a web interface that attempts to tame the overwhelming flood of papers on Arxiv. It allows researchers to keep track of recent papers, search for papers, sort papers by similarity to any paper, see recent popular papers, to add papers to a personal library, and to get personalized recommendations of (new or old) Arxiv papers. This code is currently running live at [www.arxiv-sanity.com/](http://www.arxiv-sanity.com/), where it's serving 25,000+ Arxiv papers from Machine Learning (cs.\\[CV|AI|CL|LG|NE\\]/stat.ML) over the last ~3 years. With this code base you could replicate the website to any of your favorite subsets of Arxiv by simply changing the categories in `fetch_papers.py`.\n\n[![Image 19: user interface](https://camo.githubusercontent.com/9a623b88bfcaf8a61caa9156f7df67a79148cf481c011d2b83a3c144d8881455/68747470733a2f2f7261772e6769746875622e636f6d2f6b617270617468792f61727869762d73616e6974792d7072657365727665722f6d61737465722f75692e6a706567)](https://camo.githubusercontent.com/9a623b88bfcaf8a61caa9156f7df67a79148cf481c011d2b83a3c144d8881455/68747470733a2f2f7261772e6769746875622e636f6d2f6b617270617468792f61727869762d73616e6974792d7072657365727665722f6d61737465722f75692e6a706567)\n\n### Code layout\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#code-layout)\n\nThere are two large parts of the code:\n\n**Indexing code**. Uses Arxiv API to download the most recent papers in any categories you like, and then downloads all papers, extracts all text, creates tfidf vectors based on the content of each paper. This code is therefore concerned with the backend scraping and computation: building up a database of arxiv papers, calculating content vectors, creating thumbnails, computing SVMs for people, etc.\n\n**User interface**. Then there is a web server (based on Flask/Tornado/sqlite) that allows searching through the database and filtering papers by similarity, etc.\n\n### Dependencies\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#dependencies)\n\nSeveral: You will need numpy, feedparser (to process xml files), scikit learn (for tfidf vectorizer, training of SVM), flask (for serving the results), flask\\_limiter, and tornado (if you want to run the flask server in production). Also dateutil, and scipy. And sqlite3 for database (accounts, library support, etc.). Most of these are easy to get through `pip`, e.g.:\n\n```shell\n$ virtualenv env                # optional: use virtualenv\n$ source env/bin/activate       # optional: use virtualenv\n$ pip install -r requirements.txt\n```\n\nYou will also need [ImageMagick](http://www.imagemagick.org/script/index.php) and [pdftotext](https://poppler.freedesktop.org/), which you can install on Ubuntu as `sudo apt-get install imagemagick poppler-utils`. Bleh, that's a lot of dependencies isn't it.\n\n### Processing pipeline\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#processing-pipeline)\n\nThe processing pipeline requires you to run a series of scripts, and at this stage I really encourage you to manually inspect each script, as they may contain various inline settings you might want to change. In order, the processing pipeline is:\n\n1.  Run `fetch_papers.py` to query arxiv API and create a file `db.p` that contains all information for each paper. This script is where you would modify the **query**, indicating which parts of arxiv you'd like to use. Note that if you're trying to pull too many papers arxiv will start to rate limit you. You may have to run the script multiple times, and I recommend using the arg `--start-index` to restart where you left off when you were last interrupted by arxiv.\n2.  Run `download_pdfs.py`, which iterates over all papers in parsed pickle and downloads the papers into folder `pdf`\n3.  Run `parse_pdf_to_text.py` to export all text from pdfs to files in `txt`\n4.  Run `thumb_pdf.py` to export thumbnails of all pdfs to `thumb`\n5.  Run `analyze.py` to compute tfidf vectors for all documents based on bigrams. Saves a `tfidf.p`, `tfidf_meta.p` and `sim_dict.p` pickle files.\n6.  Run `buildsvm.py` to train SVMs for all users (if any), exports a pickle `user_sim.p`\n7.  Run `make_cache.py` for various preprocessing so that server starts faster (and make sure to run `sqlite3 as.db < schema.sql` if this is the very first time ever you're starting arxiv-sanity, which initializes an empty database).\n8.  Start the mongodb daemon in the background. Mongodb can be installed by following the instructions here - [https://docs.mongodb.com/tutorials/install-mongodb-on-ubuntu/](https://docs.mongodb.com/tutorials/install-mongodb-on-ubuntu/).\n\n*   Start the mongodb server with - `sudo service mongod start`.\n*   Verify if the server is running in the background : The last line of /var/log/mongodb/mongod.log file must be - `[initandlisten] waiting for connections on port <port> `\n\n9.  Run the flask server with `serve.py`. Visit localhost:5000 and enjoy sane viewing of papers!\n\nOptionally you can also run the `twitter_daemon.py` in a screen session, which uses your Twitter API credentials (stored in `twitter.txt`) to query Twitter periodically looking for mentions of papers in the database, and writes the results to the pickle file `twitter.p`.\n\nI have a simple shell script that runs these commands one by one, and every day I run this script to fetch new papers, incorporate them into the database, and recompute all tfidf vectors/classifiers. More details on this process below.\n\n**protip: numpy/BLAS**: The script `analyze.py` does quite a lot of heavy lifting with numpy. I recommend that you carefully set up your numpy to use BLAS (e.g. OpenBLAS), otherwise the computations will take a long time. With ~25,000 papers and ~5000 users the script runs in several hours on my current machine with a BLAS-linked numpy.\n\n### Running online\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#running-online)\n\nIf you'd like to run the flask server online (e.g. AWS) run it as `python serve.py --prod`.\n\nYou also want to create a `secret_key.txt` file and fill it with random text (see top of `serve.py`).\n\n### Current workflow\n\n[](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#current-workflow)\n\nRunning the site live is not currently set up for a fully automatic plug and play operation. Instead it's a bit of a manual process and I thought I should document how I'm keeping this code alive right now. I have a script that performs the following update early morning after arxiv papers come out (~midnight PST):\n\n```shell\npython fetch_papers.py\npython download_pdfs.py\npython parse_pdf_to_text.py\npython thumb_pdf.py\npython analyze.py\npython buildsvm.py\npython make_cache.py\n```\n\nI run the server in a screen session, so `screen -S serve` to create it (or `-r` to reattach to it) and run:\n\n```shell\npython serve.py --prod --port 80\n```\n\nThe server will load the new files and begin hosting the site. Note that on some systems you can't use port 80 without `sudo`. Your two options are to use `iptables` to reroute ports or you can use [setcap](http://stackoverflow.com/questions/413807/is-there-a-way-for-non-root-processes-to-bind-to-privileged-ports-1024-on-l) to elavate the permissions of your `python` interpreter that runs `serve.py`. In this case I'd recommend careful permissions and maybe virtualenv, etc.\n\nAbout\n-----\n\nWeb interface for browsing, search and filtering recent arxiv submissions\n\n[www.arxiv-sanity.com/](http://www.arxiv-sanity.com/ \"http://www.arxiv-sanity.com/\")\n\n### Resources\n\n[Readme](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#readme-ov-file)\n\n### License\n\n[MIT license](https://github.com/karpathy/arxiv-sanity-preserver?screenshot=true#MIT-1-ov-file)\n\n[Activity](https://github.com/karpathy/arxiv-sanity-preserver/activity)\n\n### Stars\n\n[**5.2k** stars](https://github.com/karpathy/arxiv-sanity-preserver/stargazers)\n\n### Watchers\n\n[**169** watching](https://github.com/karpathy/arxiv-sanity-preserver/watchers)\n\n### Forks\n\n[**1.3k** forks](https://github.com/karpathy/arxiv-sanity-preserver/forks)\n\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fkarpathy%2Farxiv-sanity-preserver&report=karpathy+%28user%29)\n\n[Releases](https://github.com/karpathy/arxiv-sanity-preserver/releases)\n-----------------------------------------------------------------------\n\nNo releases published\n\n[Packages 0](https://github.com/users/karpathy/packages?repo_name=arxiv-sanity-preserver)\n-----------------------------------------------------------------------------------------\n\nNo packages published  \n\n[Contributors 21](https://github.com/karpathy/arxiv-sanity-preserver/graphs/contributors)\n-----------------------------------------------------------------------------------------\n\n*   [![Image 20: @karpathy](https://avatars.githubusercontent.com/u/241138?s=64&v=4)](https://github.com/karpathy)\n*   [![Image 21: @ecprice](https://avatars.githubusercontent.com/u/140334?s=64&v=4)](https://github.com/ecprice)\n*   [![Image 22: @Moredread](https://avatars.githubusercontent.com/u/100848?s=64&v=4)](https://github.com/Moredread)\n*   [![Image 23: @gokceneraslan](https://avatars.githubusercontent.com/u/1140359?s=64&v=4)](https://github.com/gokceneraslan)\n*   [![Image 24: @eddotman](https://avatars.githubusercontent.com/u/1232389?s=64&v=4)](https://github.com/eddotman)\n*   [![Image 25: @hans](https://avatars.githubusercontent.com/u/6968?s=64&v=4)](https://github.com/hans)\n*   [![Image 26: @lucidrains](https://avatars.githubusercontent.com/u/108653?s=64&v=4)](https://github.com/lucidrains)\n*   [![Image 27: @cwgreene](https://avatars.githubusercontent.com/u/135558?s=64&v=4)](https://github.com/cwgreene)\n*   [![Image 28: @matttrent](https://avatars.githubusercontent.com/u/155373?s=64&v=4)](https://github.com/matttrent)\n*   [![Image 29: @naturegirl](https://avatars.githubusercontent.com/u/744929?s=64&v=4)](https://github.com/naturegirl)\n*   [![Image 30: @mlaneuville](https://avatars.githubusercontent.com/u/854946?s=64&v=4)](https://github.com/mlaneuville)\n*   [![Image 31: @tricao](https://avatars.githubusercontent.com/u/934355?s=64&v=4)](https://github.com/tricao)\n*   [![Image 32: @carlini](https://avatars.githubusercontent.com/u/1269300?s=64&v=4)](https://github.com/carlini)\n*   [![Image 33: @MartinThoma](https://avatars.githubusercontent.com/u/1658117?s=64&v=4)](https://github.com/MartinThoma)\n\n[\\+ 7 contributors](https://github.com/karpathy/arxiv-sanity-preserver/graphs/contributors)\n\nLanguages\n---------\n\n*   [Python 54.4%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=python)\n*   [HTML 28.2%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=html)\n*   [JavaScript 9.8%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=javascript)\n*   [CSS 7.6%](https://github.com/karpathy/arxiv-sanity-preserver/search?l=css)\n\nFooter\n------\n\n[](https://github.com/ \"GitHub\")© 2025 GitHub, Inc.\n\n### Footer navigation\n\n*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n*   [Security](https://github.com/security)\n*   [Status](https://www.githubstatus.com/)\n*   [Docs](https://docs.github.com/)\n*   [Contact](https://support.github.com/?tags=dotcom-footer)\n*   Manage cookies\n*   Do not share my personal information\n\nYou can’t perform that action at this time.",
  "usage": {
    "tokens": 8212
  }
}
```
